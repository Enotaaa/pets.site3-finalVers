{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2053-23\\\\pets.site3-main\\\\src\\\\components\\\\profile\\\\UserOrders.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../auth/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserOrders = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({\n    type: '',\n    text: ''\n  });\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [deleteConfirm, setDeleteConfirm] = useState(null);\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.token) {\n      fetchUserOrders();\n    }\n  }, [user]);\n  const fetchUserOrders = async () => {\n    if (!(user !== null && user !== void 0 && user.token)) return;\n    setLoading(true);\n    try {\n      // Пробуем разные эндпоинты для получения объявлений пользователя\n      const endpoints = ['https://pets.xn--80ahdri7a.site/api/pets/my', 'https://pets.xn--80ahdri7a.site/api/users/pets', 'https://pets.xn--80ahdri7a.site/api/users/orders'];\n      let response = null;\n      let data = null;\n\n      // Пробуем последовательно разные эндпоинты\n      for (const endpoint of endpoints) {\n        try {\n          response = await fetch(endpoint, {\n            headers: {\n              'Authorization': `Bearer ${user.token}`\n            }\n          });\n          if (response.ok) {\n            data = await response.json();\n            console.log('Получены данные с', endpoint, data);\n\n            // Парсим данные в зависимости от формата ответа\n            let ordersData = [];\n            if (Array.isArray(data)) {\n              ordersData = data;\n            } else if (data.data && Array.isArray(data.data)) {\n              ordersData = data.data;\n            } else if (data.pets && Array.isArray(data.pets)) {\n              ordersData = data.pets;\n            } else if (data.orders && Array.isArray(data.orders)) {\n              ordersData = data.orders;\n            } else if (typeof data === 'object' && data !== null) {\n              // Если это объект с данными одного объявления\n              ordersData = [data];\n            }\n            if (ordersData.length > 0) {\n              setOrders(ordersData);\n              setLoading(false);\n              return; // Успешно получили данные, выходим из цикла\n            }\n          }\n        } catch (error) {\n          console.warn(`Ошибка при запросе к ${endpoint}:`, error);\n          continue; // Пробуем следующий эндпоинт\n        }\n      }\n\n      // Если ни один эндпоинт не вернул данные\n      setOrders([]);\n      setMessage({\n        type: 'info',\n        text: 'У вас еще нет объявлений'\n      });\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      setMessage({\n        type: 'danger',\n        text: 'Ошибка при загрузке объявлений'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getStatusBadgeClass = status => {\n    switch (status) {\n      case 'active':\n        return 'badge bg-success';\n      case 'wasFound':\n        return 'badge bg-primary';\n      case 'onModeration':\n        return 'badge bg-warning';\n      case 'archive':\n        return 'badge bg-secondary';\n      default:\n        return 'badge bg-light text-dark';\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'active':\n        return 'Активное';\n      case 'wasFound':\n        return 'Хозяин найден';\n      case 'onModeration':\n        return 'На модерации';\n      case 'archive':\n        return 'В архиве';\n      default:\n        return status || 'Нет статуса';\n    }\n  };\n  const handleDeleteOrder = async orderId => {\n    if (!(user !== null && user !== void 0 && user.token)) return;\n    try {\n      // Пробуем разные эндпоинты для удаления\n      const endpoints = [`https://pets.xn--80ahdri7a.site/api/pets/${orderId}`, `https://pets.xn--80ahdri7a.site/api/users/orders/${orderId}`];\n      let success = false;\n      for (const endpoint of endpoints) {\n        try {\n          const response = await fetch(endpoint, {\n            method: 'DELETE',\n            headers: {\n              'Authorization': `Bearer ${user.token}`\n            }\n          });\n          if (response.ok) {\n            success = true;\n            break;\n          }\n        } catch (error) {\n          continue; // Пробуем следующий эндпоинт\n        }\n      }\n      if (success) {\n        setMessage({\n          type: 'success',\n          text: 'Объявление успешно удалено'\n        });\n        fetchUserOrders(); // Обновляем список\n      } else {\n        setMessage({\n          type: 'danger',\n          text: 'Ошибка при удалении объявления'\n        });\n      }\n    } catch (error) {\n      setMessage({\n        type: 'danger',\n        text: 'Ошибка сети'\n      });\n    }\n    setDeleteConfirm(null);\n  };\n  const handleEditOrder = async (orderId, formData) => {\n    if (!(user !== null && user !== void 0 && user.token)) return;\n    try {\n      const response = await fetch(`https://pets.xn--80ahdri7a.site/api/pets/${orderId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: JSON.stringify({\n          kind: formData.get('kind'),\n          description: formData.get('description'),\n          mark: formData.get('mark')\n        })\n      });\n      if (response.ok) {\n        setMessage({\n          type: 'success',\n          text: 'Объявление успешно обновлено'\n        });\n        fetchUserOrders();\n        setEditingOrder(null);\n      } else {\n        const errorData = await response.json();\n        setMessage({\n          type: 'danger',\n          text: errorData.message || 'Ошибка при обновлении'\n        });\n      }\n    } catch (error) {\n      setMessage({\n        type: 'danger',\n        text: 'Ошибка сети'\n      });\n    }\n  };\n  const formatDate = dateString => {\n    if (!dateString) return 'Не указана';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('ru-RU', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric'\n      });\n    } catch (error) {\n      return dateString;\n    }\n  };\n  const getPhotoUrl = photoPath => {\n    if (!photoPath) return null;\n\n    // Если путь уже полный URL\n    if (photoPath.startsWith('http')) {\n      return photoPath;\n    }\n\n    // Если путь относительный\n    if (photoPath.startsWith('/')) {\n      return `https://pets.xn--80ahdri7a.site${photoPath}`;\n    }\n\n    // Если это массив фотографий\n    if (typeof photoPath === 'string' && photoPath.includes('[')) {\n      try {\n        const photos = JSON.parse(photoPath);\n        if (Array.isArray(photos) && photos.length > 0) {\n          const firstPhoto = photos[0];\n          if (firstPhoto.startsWith('/')) {\n            return `https://pets.xn--80ahdri7a.site${firstPhoto}`;\n          }\n          return firstPhoto;\n        }\n      } catch (error) {\n        console.warn('Ошибка парсинга фотографий:', error);\n      }\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"\\u041C\\u043E\\u0438 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert alert-${message.type}`,\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-dark\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this) : orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted\",\n        children: \"\\u0423 \\u0432\\u0430\\u0441 \\u0435\\u0449\\u0435 \\u043D\\u0435\\u0442 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-outline-dark\",\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": \"#newPost\",\n        \"data-bs-dismiss\": \"modal\",\n        children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"orders-list\",\n      children: [orders.map(order => {\n        const photoUrl = getPhotoUrl(order.photos || order.photo || order.image);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-3\",\n          children: [photoUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: photoUrl,\n            className: \"card-img-top\",\n            alt: order.kind || 'Животное',\n            style: {\n              height: '150px',\n              objectFit: 'cover'\n            },\n            onError: e => {\n              e.target.style.display = 'none';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"card-title mb-1\",\n                children: order.kind || 'Животное'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: getStatusBadgeClass(order.status),\n                children: getStatusText(order.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text small mb-1\",\n              children: order.description ? order.description.substring(0, 100) + (order.description.length > 100 ? '...' : '') : 'Нет описания'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row small text-muted mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041C\\u0435\\u0442\\u043A\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 23\n                }, this), \" \", order.mark || 'Не указана']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0420\\u0430\\u0439\\u043E\\u043D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 23\n                }, this), \" \", order.district || 'Не указан']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this), \" \", formatDate(order.created_at || order.date || order.createdAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-sm btn-outline-primary\",\n                onClick: () => setEditingOrder(order),\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-sm btn-outline-danger\",\n                onClick: () => setDeleteConfirm(order),\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-dark\",\n          \"data-bs-toggle\": \"modal\",\n          \"data-bs-target\": \"#newPost\",\n          \"data-bs-dismiss\": \"modal\",\n          children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0435 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this), deleteConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      style: {\n        display: 'block',\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\\"\", deleteConfirm.kind, \"\\\"?\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted small\",\n              children: \"\\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u043D\\u0435\\u043B\\u044C\\u0437\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => setDeleteConfirm(null),\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: () => handleDeleteOrder(deleteConfirm.id),\n              children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }, this), editingOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      style: {\n        display: 'block',\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              onClick: () => setEditingOrder(null)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => {\n              e.preventDefault();\n              const formData = new FormData(e.target);\n              handleEditOrder(editingOrder.id, formData);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"\\u0422\\u0438\\u043F \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"kind\",\n                  defaultValue: editingOrder.kind,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  name: \"description\",\n                  rows: \"3\",\n                  defaultValue: editingOrder.description,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"\\u041C\\u0435\\u0442\\u043A\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"mark\",\n                  defaultValue: editingOrder.mark\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setEditingOrder(null),\n                children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\n_s(UserOrders, \"+K+/l44gvd6XuXb/qJwTmR2i/2M=\", false, function () {\n  return [useAuth];\n});\n_c = UserOrders;\nexport default UserOrders;\nvar _c;\n$RefreshReg$(_c, \"UserOrders\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsxDEV","_jsxDEV","UserOrders","_s","user","orders","setOrders","loading","setLoading","message","setMessage","type","text","editingOrder","setEditingOrder","deleteConfirm","setDeleteConfirm","token","fetchUserOrders","endpoints","response","data","endpoint","fetch","headers","ok","json","console","log","ordersData","Array","isArray","pets","length","error","warn","getStatusBadgeClass","status","getStatusText","handleDeleteOrder","orderId","success","method","handleEditOrder","formData","body","JSON","stringify","kind","get","description","mark","errorData","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","getPhotoUrl","photoPath","startsWith","includes","photos","parse","firstPhoto","children","fileName","_jsxFileName","lineNumber","columnNumber","className","role","map","order","photoUrl","photo","image","src","alt","style","height","objectFit","onError","e","target","display","substring","district","created_at","createdAt","onClick","id","backgroundColor","onSubmit","preventDefault","FormData","name","defaultValue","required","rows","_c","$RefreshReg$"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/profile/UserOrders.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../auth/AuthContext';\r\n\r\nconst UserOrders = () => {\r\n  const { user } = useAuth();\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [editingOrder, setEditingOrder] = useState(null);\r\n  const [deleteConfirm, setDeleteConfirm] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (user?.token) {\r\n      fetchUserOrders();\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchUserOrders = async () => {\r\n    if (!user?.token) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      // Пробуем разные эндпоинты для получения объявлений пользователя\r\n      const endpoints = [\r\n        'https://pets.xn--80ahdri7a.site/api/pets/my',\r\n        'https://pets.xn--80ahdri7a.site/api/users/pets',\r\n        'https://pets.xn--80ahdri7a.site/api/users/orders'\r\n      ];\r\n      \r\n      let response = null;\r\n      let data = null;\r\n      \r\n      // Пробуем последовательно разные эндпоинты\r\n      for (const endpoint of endpoints) {\r\n        try {\r\n          response = await fetch(endpoint, {\r\n            headers: { 'Authorization': `Bearer ${user.token}` }\r\n          });\r\n          \r\n          if (response.ok) {\r\n            data = await response.json();\r\n            console.log('Получены данные с', endpoint, data);\r\n            \r\n            // Парсим данные в зависимости от формата ответа\r\n            let ordersData = [];\r\n            \r\n            if (Array.isArray(data)) {\r\n              ordersData = data;\r\n            } else if (data.data && Array.isArray(data.data)) {\r\n              ordersData = data.data;\r\n            } else if (data.pets && Array.isArray(data.pets)) {\r\n              ordersData = data.pets;\r\n            } else if (data.orders && Array.isArray(data.orders)) {\r\n              ordersData = data.orders;\r\n            } else if (typeof data === 'object' && data !== null) {\r\n              // Если это объект с данными одного объявления\r\n              ordersData = [data];\r\n            }\r\n            \r\n            if (ordersData.length > 0) {\r\n              setOrders(ordersData);\r\n              setLoading(false);\r\n              return; // Успешно получили данные, выходим из цикла\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.warn(`Ошибка при запросе к ${endpoint}:`, error);\r\n          continue; // Пробуем следующий эндпоинт\r\n        }\r\n      }\r\n      \r\n      // Если ни один эндпоинт не вернул данные\r\n      setOrders([]);\r\n      setMessage({ type: 'info', text: 'У вас еще нет объявлений' });\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      setMessage({ type: 'danger', text: 'Ошибка при загрузке объявлений' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadgeClass = (status) => {\r\n    switch (status) {\r\n      case 'active': return 'badge bg-success';\r\n      case 'wasFound': return 'badge bg-primary';\r\n      case 'onModeration': return 'badge bg-warning';\r\n      case 'archive': return 'badge bg-secondary';\r\n      default: return 'badge bg-light text-dark';\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    switch (status) {\r\n      case 'active': return 'Активное';\r\n      case 'wasFound': return 'Хозяин найден';\r\n      case 'onModeration': return 'На модерации';\r\n      case 'archive': return 'В архиве';\r\n      default: return status || 'Нет статуса';\r\n    }\r\n  };\r\n\r\n  const handleDeleteOrder = async (orderId) => {\r\n    if (!user?.token) return;\r\n    \r\n    try {\r\n      // Пробуем разные эндпоинты для удаления\r\n      const endpoints = [\r\n        `https://pets.xn--80ahdri7a.site/api/pets/${orderId}`,\r\n        `https://pets.xn--80ahdri7a.site/api/users/orders/${orderId}`\r\n      ];\r\n      \r\n      let success = false;\r\n      \r\n      for (const endpoint of endpoints) {\r\n        try {\r\n          const response = await fetch(endpoint, {\r\n            method: 'DELETE',\r\n            headers: { 'Authorization': `Bearer ${user.token}` }\r\n          });\r\n          \r\n          if (response.ok) {\r\n            success = true;\r\n            break;\r\n          }\r\n        } catch (error) {\r\n          continue; // Пробуем следующий эндпоинт\r\n        }\r\n      }\r\n      \r\n      if (success) {\r\n        setMessage({ type: 'success', text: 'Объявление успешно удалено' });\r\n        fetchUserOrders(); // Обновляем список\r\n      } else {\r\n        setMessage({ type: 'danger', text: 'Ошибка при удалении объявления' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'danger', text: 'Ошибка сети' });\r\n    }\r\n    setDeleteConfirm(null);\r\n  };\r\n\r\n  const handleEditOrder = async (orderId, formData) => {\r\n    if (!user?.token) return;\r\n    \r\n    try {\r\n      const response = await fetch(`https://pets.xn--80ahdri7a.site/api/pets/${orderId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.token}`\r\n        },\r\n        body: JSON.stringify({\r\n          kind: formData.get('kind'),\r\n          description: formData.get('description'),\r\n          mark: formData.get('mark')\r\n        })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setMessage({ type: 'success', text: 'Объявление успешно обновлено' });\r\n        fetchUserOrders();\r\n        setEditingOrder(null);\r\n      } else {\r\n        const errorData = await response.json();\r\n        setMessage({ type: 'danger', text: errorData.message || 'Ошибка при обновлении' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'danger', text: 'Ошибка сети' });\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Не указана';\r\n    \r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('ru-RU', {\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric'\r\n      });\r\n    } catch (error) {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  const getPhotoUrl = (photoPath) => {\r\n    if (!photoPath) return null;\r\n    \r\n    // Если путь уже полный URL\r\n    if (photoPath.startsWith('http')) {\r\n      return photoPath;\r\n    }\r\n    \r\n    // Если путь относительный\r\n    if (photoPath.startsWith('/')) {\r\n      return `https://pets.xn--80ahdri7a.site${photoPath}`;\r\n    }\r\n    \r\n    // Если это массив фотографий\r\n    if (typeof photoPath === 'string' && photoPath.includes('[')) {\r\n      try {\r\n        const photos = JSON.parse(photoPath);\r\n        if (Array.isArray(photos) && photos.length > 0) {\r\n          const firstPhoto = photos[0];\r\n          if (firstPhoto.startsWith('/')) {\r\n            return `https://pets.xn--80ahdri7a.site${firstPhoto}`;\r\n          }\r\n          return firstPhoto;\r\n        }\r\n      } catch (error) {\r\n        console.warn('Ошибка парсинга фотографий:', error);\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h5>Мои объявления</h5>\r\n      \r\n      {message.text && (\r\n        <div className={`alert alert-${message.type}`}>\r\n          {message.text}\r\n        </div>\r\n      )}\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center p-4\">\r\n          <div className=\"spinner-border text-dark\" role=\"status\">\r\n            <span className=\"visually-hidden\">Загрузка...</span>\r\n          </div>\r\n          <p className=\"mt-2\">Загрузка объявлений...</p>\r\n        </div>\r\n      ) : orders.length === 0 ? (\r\n        <div className=\"text-center p-4\">\r\n          <p className=\"text-muted\">У вас еще нет объявлений</p>\r\n          <button \r\n            className=\"btn btn-sm btn-outline-dark\" \r\n            data-bs-toggle=\"modal\" \r\n            data-bs-target=\"#newPost\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            Создать объявление\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"orders-list\">\r\n          {orders.map((order) => {\r\n            const photoUrl = getPhotoUrl(order.photos || order.photo || order.image);\r\n            \r\n            return (\r\n              <div key={order.id} className=\"card mb-3\">\r\n                {photoUrl && (\r\n                  <img \r\n                    src={photoUrl}\r\n                    className=\"card-img-top\"\r\n                    alt={order.kind || 'Животное'}\r\n                    style={{ height: '150px', objectFit: 'cover' }}\r\n                    onError={(e) => {\r\n                      e.target.style.display = 'none';\r\n                    }}\r\n                  />\r\n                )}\r\n                \r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex justify-content-between align-items-start\">\r\n                    <h6 className=\"card-title mb-1\">{order.kind || 'Животное'}</h6>\r\n                    <span className={getStatusBadgeClass(order.status)}>\r\n                      {getStatusText(order.status)}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <p className=\"card-text small mb-1\">\r\n                    {order.description ? (\r\n                      order.description.substring(0, 100) + (order.description.length > 100 ? '...' : '')\r\n                    ) : 'Нет описания'}\r\n                  </p>\r\n                  \r\n                  <div className=\"row small text-muted mt-2\">\r\n                    <div className=\"col-6\">\r\n                      <strong>Метка:</strong> {order.mark || 'Не указана'}\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <strong>Район:</strong> {order.district || 'Не указан'}\r\n                    </div>\r\n                    <div className=\"col-12 mt-1\">\r\n                      <strong>Дата создания:</strong> {formatDate(order.created_at || order.date || order.createdAt)}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"mt-3 d-flex gap-2\">\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-sm btn-outline-primary\"\r\n                      onClick={() => setEditingOrder(order)}\r\n                    >\r\n                      Редактировать\r\n                    </button>\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-sm btn-outline-danger\"\r\n                      onClick={() => setDeleteConfirm(order)}\r\n                    >\r\n                      Удалить\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          \r\n          <div className=\"text-center mt-3\">\r\n            <button \r\n              className=\"btn btn-sm btn-outline-dark\" \r\n              data-bs-toggle=\"modal\" \r\n              data-bs-target=\"#newPost\"\r\n              data-bs-dismiss=\"modal\"\r\n            >\r\n              Создать новое объявление\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Модальное окно удаления */}\r\n      {deleteConfirm && (\r\n        <div className=\"modal fade show\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Подтверждение удаления</h5>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <p>Вы уверены, что хотите удалить объявление \"{deleteConfirm.kind}\"?</p>\r\n                <p className=\"text-muted small\">Это действие нельзя отменить.</p>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-secondary\" \r\n                  onClick={() => setDeleteConfirm(null)}\r\n                >\r\n                  Отмена\r\n                </button>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-danger\" \r\n                  onClick={() => handleDeleteOrder(deleteConfirm.id)}\r\n                >\r\n                  Удалить\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Модальное окно редактирования */}\r\n      {editingOrder && (\r\n        <div className=\"modal fade show\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Редактирование объявления</h5>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn-close\" \r\n                  onClick={() => setEditingOrder(null)}\r\n                />\r\n              </div>\r\n              <form onSubmit={(e) => {\r\n                e.preventDefault();\r\n                const formData = new FormData(e.target);\r\n                handleEditOrder(editingOrder.id, formData);\r\n              }}>\r\n                <div className=\"modal-body\">\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Тип животного:</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      className=\"form-control\" \r\n                      name=\"kind\"\r\n                      defaultValue={editingOrder.kind}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Описание:</label>\r\n                    <textarea \r\n                      className=\"form-control\" \r\n                      name=\"description\"\r\n                      rows=\"3\"\r\n                      defaultValue={editingOrder.description}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Метка:</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      className=\"form-control\" \r\n                      name=\"mark\"\r\n                      defaultValue={editingOrder.mark}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-secondary\" \r\n                    onClick={() => setEditingOrder(null)}\r\n                  >\r\n                    Отмена\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Сохранить изменения\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserOrders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}