{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2053-23\\\\pets.site3-main\\\\src\\\\components\\\\animals\\\\AnimalCard.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnimalCard = ({\n  animal,\n  onViewClick\n}) => {\n  const formatDate = dateString => {\n    if (!dateString) return 'Не указана';\n    if (dateString.includes('-')) {\n      const [day, month, year] = dateString.split('-');\n      return `${day}.${month}.${year}`;\n    }\n    return dateString;\n  };\n  const getImageUrl = photoPath => {\n    if (!photoPath) return '';\n    if (photoPath.startsWith('http')) return photoPath;\n    return `https://pets.xn--80ahdri7a.site${photoPath}`;\n  };\n  const getAnimalTypeFromKind = kind => {\n    const kindLower = (kind === null || kind === void 0 ? void 0 : kind.toLowerCase()) || '';\n    if (kindLower.includes('кошка') || kindLower.includes('кот')) return 'cat';\n    if (kindLower.includes('собака')) return 'dog';\n    if (kindLower.includes('кролик')) return 'rabbit';\n    return 'other';\n  };\n  const getTypeBadgeClass = type => {\n    switch (type) {\n      case 'cat':\n        return 'badge bg-info';\n      case 'dog':\n        return 'badge bg-warning text-dark';\n      case 'rabbit':\n        return 'badge bg-purple';\n      default:\n        return 'badge bg-secondary';\n    }\n  };\n  const getTypeText = type => {\n    switch (type) {\n      case 'cat':\n        return 'Кошка';\n      case 'dog':\n        return 'Собака';\n      case 'rabbit':\n        return 'Кролик';\n      default:\n        return 'Другое';\n    }\n  };\n  const animalType = getAnimalTypeFromKind(animal.kind);\n  const handleViewClick = () => {\n    if (onViewClick) {\n      onViewClick(animal.id);\n    } else {\n      // Если нет callback, отправляем глобальное событие\n      window.dispatchEvent(new CustomEvent('openAnimalModal', {\n        detail: {\n          animalId: animal.id\n        }\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card animal-card h-100 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: getImageUrl(animal.photo || animal.photos),\n        className: \"card-img-top\",\n        alt: animal.kind || 'Животное',\n        style: {\n          height: '200px',\n          objectFit: 'cover'\n        },\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='14' fill='%236c757d' text-anchor='middle' dy='.3em'%3EНет фото%3C/text%3E%3C/svg%3E\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-absolute top-0 end-0 m-2\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: getTypeBadgeClass(animalType),\n          children: getTypeText(animalType)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body d-flex flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"card-title\",\n        children: animal.kind || 'Животное'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-muted\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-geo-alt me-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), animal.district || 'Район не указан']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text flex-grow-1\",\n        style: {\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          display: '-webkit-box',\n          WebkitLineClamp: 3,\n          WebkitBoxOrient: 'vertical'\n        },\n        children: animal.description || 'Нет описания'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-light text-dark\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-calendar me-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), formatDate(animal.date)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), animal.mark && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-dark\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-tag me-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), animal.mark]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary w-100\",\n          onClick: handleViewClick,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-eye me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_c = AnimalCard;\nexport default AnimalCard;\nvar _c;\n$RefreshReg$(_c, \"AnimalCard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","AnimalCard","animal","onViewClick","formatDate","dateString","includes","day","month","year","split","getImageUrl","photoPath","startsWith","getAnimalTypeFromKind","kind","kindLower","toLowerCase","getTypeBadgeClass","type","getTypeText","animalType","handleViewClick","id","window","dispatchEvent","CustomEvent","detail","animalId","className","children","src","photo","photos","alt","style","height","objectFit","onError","e","target","onerror","fileName","_jsxFileName","lineNumber","columnNumber","district","overflow","textOverflow","display","WebkitLineClamp","WebkitBoxOrient","description","date","mark","onClick","_c","$RefreshReg$"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/animals/AnimalCard.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst AnimalCard = ({ animal, onViewClick }) => {\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Не указана';\r\n    if (dateString.includes('-')) {\r\n      const [day, month, year] = dateString.split('-');\r\n      return `${day}.${month}.${year}`;\r\n    }\r\n    return dateString;\r\n  };\r\n\r\n  const getImageUrl = (photoPath) => {\r\n    if (!photoPath) return '';\r\n    if (photoPath.startsWith('http')) return photoPath;\r\n    return `https://pets.xn--80ahdri7a.site${photoPath}`;\r\n  };\r\n\r\n  const getAnimalTypeFromKind = (kind) => {\r\n    const kindLower = kind?.toLowerCase() || '';\r\n    if (kindLower.includes('кошка') || kindLower.includes('кот')) return 'cat';\r\n    if (kindLower.includes('собака')) return 'dog';\r\n    if (kindLower.includes('кролик')) return 'rabbit';\r\n    return 'other';\r\n  };\r\n\r\n  const getTypeBadgeClass = (type) => {\r\n    switch(type) {\r\n      case 'cat': return 'badge bg-info';\r\n      case 'dog': return 'badge bg-warning text-dark';\r\n      case 'rabbit': return 'badge bg-purple';\r\n      default: return 'badge bg-secondary';\r\n    }\r\n  };\r\n\r\n  const getTypeText = (type) => {\r\n    switch(type) {\r\n      case 'cat': return 'Кошка';\r\n      case 'dog': return 'Собака';\r\n      case 'rabbit': return 'Кролик';\r\n      default: return 'Другое';\r\n    }\r\n  };\r\n\r\n  const animalType = getAnimalTypeFromKind(animal.kind);\r\n\r\n  const handleViewClick = () => {\r\n    if (onViewClick) {\r\n      onViewClick(animal.id);\r\n    } else {\r\n      // Если нет callback, отправляем глобальное событие\r\n      window.dispatchEvent(new CustomEvent('openAnimalModal', { \r\n        detail: { animalId: animal.id } \r\n      }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card animal-card h-100 shadow-sm\">\r\n      <div className=\"position-relative\">\r\n        <img \r\n          src={getImageUrl(animal.photo || animal.photos)}\r\n          className=\"card-img-top\"\r\n          alt={animal.kind || 'Животное'}\r\n          style={{ height: '200px', objectFit: 'cover' }}\r\n          onError={(e) => {\r\n            e.target.onerror = null;\r\n            e.target.src = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='14' fill='%236c757d' text-anchor='middle' dy='.3em'%3EНет фото%3C/text%3E%3C/svg%3E\";\r\n          }}\r\n        />\r\n        <div className=\"position-absolute top-0 end-0 m-2\">\r\n          <span className={getTypeBadgeClass(animalType)}>\r\n            {getTypeText(animalType)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"card-body d-flex flex-column\">\r\n        <h5 className=\"card-title\">{animal.kind || 'Животное'}</h5>\r\n        \r\n        <div className=\"mb-2\">\r\n          <small className=\"text-muted\">\r\n            <i className=\"bi bi-geo-alt me-1\"></i>\r\n            {animal.district || 'Район не указан'}\r\n          </small>\r\n        </div>\r\n        \r\n        <p className=\"card-text flex-grow-1\" style={{ \r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          display: '-webkit-box',\r\n          WebkitLineClamp: 3,\r\n          WebkitBoxOrient: 'vertical'\r\n        }}>\r\n          {animal.description || 'Нет описания'}\r\n        </p>\r\n        \r\n        <div className=\"mt-3\">\r\n          <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n            <span className=\"badge bg-light text-dark\">\r\n              <i className=\"bi bi-calendar me-1\"></i>\r\n              {formatDate(animal.date)}\r\n            </span>\r\n            {animal.mark && (\r\n              <span className=\"badge bg-dark\">\r\n                <i className=\"bi bi-tag me-1\"></i>\r\n                {animal.mark}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <button \r\n            className=\"btn btn-primary w-100\"\r\n            onClick={handleViewClick}\r\n          >\r\n            <i className=\"bi bi-eye me-2\"></i>\r\n            Подробнее\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimalCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}