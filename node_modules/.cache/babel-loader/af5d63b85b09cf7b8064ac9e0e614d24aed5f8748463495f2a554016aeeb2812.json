{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Slider=()=>{const[pets,setPets]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchSliderData();},[]);const fetchSliderData=async()=>{try{var _data$data;const response=await fetch('https://pets.xn--80ahdri7a.site/api/pets/slider');if(!response.ok){throw new Error('Ошибка загрузки слайдера');}const data=await response.json();if((_data$data=data.data)!==null&&_data$data!==void 0&&_data$data.pets){setPets(data.data.pets);}}catch(error){console.error('Slider error:',error);setError('Не удалось загрузить слайдер');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"slider-loading text-center py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"})})});}if(error||pets.length===0){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"fullscreen-slider-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"animalCarousel\",className:\"carousel slide\",\"data-bs-ride\":\"carousel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"carousel-indicators\",children:pets.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-bs-target\":\"#animalCarousel\",\"data-bs-slide-to\":index,className:index===0?'active':''},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-inner\",children:pets.map((pet,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-item \".concat(index===0?'active':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"carousel-image-container\",children:pet.image?/*#__PURE__*/_jsx(\"img\",{src:\"https://pets.xn--80ahdri7a.site\".concat(pet.image),className:\"d-block w-100\",alt:pet.kind}):/*#__PURE__*/_jsx(\"div\",{className:\"d-block w-100 bg-secondary no-image-placeholder\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-100 d-flex align-items-center justify-content-center text-white\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-image fs-1 d-block\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-caption d-none d-md-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark bg-opacity-75 rounded p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:pet.kind||'Животное'}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:pet.description||'Описание отсутствует'})]})})]},index))}),/*#__PURE__*/_jsxs(\"button\",{className:\"carousel-control-prev\",type:\"button\",\"data-bs-target\":\"#animalCarousel\",\"data-bs-slide\":\"prev\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"carousel-control-prev-icon\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0438\\u0439\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"carousel-control-next\",type:\"button\",\"data-bs-target\":\"#animalCarousel\",\"data-bs-slide\":\"next\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"carousel-control-next-icon\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0438\\u0439\"})]})]})});};export default Slider;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Slider","pets","setPets","loading","setLoading","error","setError","fetchSliderData","_data$data","response","fetch","ok","Error","data","json","console","className","children","role","length","id","map","_","index","type","pet","concat","image","src","alt","kind","description"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/layout/Slider.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n\r\nconst Slider = () => {\r\n  const [pets, setPets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchSliderData();\r\n  }, []);\r\n\r\n  const fetchSliderData = async () => {\r\n    try {\r\n      const response = await fetch('https://pets.xn--80ahdri7a.site/api/pets/slider');\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Ошибка загрузки слайдера');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.data?.pets) {\r\n        setPets(data.data.pets);\r\n      }\r\n    } catch (error) {\r\n      console.error('Slider error:', error);\r\n      setError('Не удалось загрузить слайдер');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"slider-loading text-center py-5\">\r\n        <div className=\"spinner-border text-primary\" role=\"status\">\r\n          <span className=\"visually-hidden\">Загрузка...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || pets.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fullscreen-slider-container\">\r\n      <div id=\"animalCarousel\" className=\"carousel slide\" data-bs-ride=\"carousel\">\r\n        <div className=\"carousel-indicators\">\r\n          {pets.map((_, index) => (\r\n            <button \r\n              key={index}\r\n              type=\"button\" \r\n              data-bs-target=\"#animalCarousel\" \r\n              data-bs-slide-to={index}\r\n              className={index === 0 ? 'active' : ''}\r\n            />\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"carousel-inner\">\r\n          {pets.map((pet, index) => (\r\n            <div key={index} className={`carousel-item ${index === 0 ? 'active' : ''}`}>\r\n              <div className=\"carousel-image-container\">\r\n                {pet.image ? (\r\n                  <img \r\n                    src={`https://pets.xn--80ahdri7a.site${pet.image}`}\r\n                    className=\"d-block w-100\"\r\n                    alt={pet.kind}\r\n                  />\r\n                ) : (\r\n                  <div className=\"d-block w-100 bg-secondary no-image-placeholder\">\r\n                    <div className=\"h-100 d-flex align-items-center justify-content-center text-white\">\r\n                      <div>\r\n                        <i className=\"bi bi-image fs-1 d-block\"></i>\r\n                        <span>Изображение отсутствует</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"carousel-caption d-none d-md-block\">\r\n                <div className=\"bg-dark bg-opacity-75 rounded p-3\">\r\n                  <h5>{pet.kind || 'Животное'}</h5>\r\n                  <p className=\"mb-0\">{pet.description || 'Описание отсутствует'}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <button className=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#animalCarousel\" data-bs-slide=\"prev\">\r\n          <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Предыдущий</span>\r\n        </button>\r\n        <button className=\"carousel-control-next\" type=\"button\" data-bs-target=\"#animalCarousel\" data-bs-slide=\"next\">\r\n          <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Следующий</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Slider;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}