{"ast":null,"code":"import _objectSpread from\"C:/Users/2053-23/pets.site3-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useAuth}from\"../auth/AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FoundAnimalForm=()=>{const{user}=useAuth();const[formData,setFormData]=useState({kind:'',description:'',district:'',name:(user===null||user===void 0?void 0:user.name)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',email:(user===null||user===void 0?void 0:user.email)||'',mark:'',confirm:false});const[images,setImages]=useState([null,null,null]);const[imagePreviews,setImagePreviews]=useState([]);const[errors,setErrors]=useState({});const[message,setMessage]=useState({type:'',text:''});const[isSubmitting,setIsSubmitting]=useState(false);const[showPasswordFields,setShowPasswordFields]=useState(false);const[passwordData,setPasswordData]=useState({password:'',password_confirmation:''});const districts=['Адмиралтейский район','Василеостровский район','Выборгский район','Калининский район','Кировский район','Колпинский район','Красногвардейский район','Красносельский район','Кронштадтский район','Курортный район','Московский район','Невский район','Петроградский район','Петродворцовый район','Приморский район','Пушкинский район','Фрунзенский район','Центральный район'];const validateForm=()=>{const newErrors={};if(!formData.kind.trim()){newErrors.kind='Укажите вид животного';}if(!formData.description.trim()){newErrors.description='Введите описание';}if(!formData.district){newErrors.district='Выберите район';}if(!images[0]){newErrors.photo1='Добавьте хотя бы одну фотографию';}if(!formData.name.trim()){newErrors.name='Введите ваше имя';}if(!formData.phone.trim()){newErrors.phone='Введите телефон';}if(!formData.email.trim()){newErrors.email='Введите email';}else if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)){newErrors.email='Введите корректный email';}if(!formData.confirm){newErrors.confirm='Необходимо согласие';}return newErrors;};const handleImageChange=(e,index)=>{const file=e.target.files[0];if(!file)return;const newImages=[...images];newImages[index]=file;setImages(newImages);const reader=new FileReader();reader.onload=e=>{const newPreviews=[...imagePreviews];newPreviews[index]=e.target.result;setImagePreviews(newPreviews);};reader.readAsDataURL(file);if(errors[\"photo\".concat(index+1)]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[\"photo\".concat(index+1)]:null}));}};const removeImage=index=>{const newImages=[...images];newImages[index]=null;setImages(newImages);const newPreviews=[...imagePreviews];newPreviews[index]=null;setImagePreviews(newPreviews);};const handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));if(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:null}));}};const handlePasswordChange=e=>{const{name,value}=e.target;setPasswordData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setErrors({});setMessage({type:'',text:''});// Первый шаг: проверка основной формы\nif(!showPasswordFields){const validationErrors=validateForm();if(Object.keys(validationErrors).length>0){setErrors(validationErrors);return;}setShowPasswordFields(true);return;}// Второй шаг: проверка пароля\nif(!passwordData.password){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{password:'Введите пароль'}));return;}if(!user&&passwordData.password!==passwordData.password_confirmation){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{password_confirmation:'Пароли не совпадают'}));return;}setIsSubmitting(true);try{const apiFormData=new FormData();// Добавляем изображения\nimages.forEach((image,index)=>{if(image){apiFormData.append(\"photo\".concat(index+1),image);}});// Добавляем данные формы\nObject.keys(formData).forEach(key=>{if(key!=='confirm'){apiFormData.append(key,formData[key]);}else{apiFormData.append(key,formData[key]?1:0);}});// Добавляем пароль\napiFormData.append('password',passwordData.password);if(!user){apiFormData.append('password_confirmation',passwordData.password_confirmation);}// Настраиваем заголовки\nconst headers={};if(user){headers['Authorization']=\"Bearer \".concat(user.token);}const response=await fetch('https://pets.xn--80ahdri7a.site/api/pets',{method:'POST',headers,body:apiFormData});const result=await response.json();if(response.ok){setMessage({type:'success',text:'Объявление успешно создано!'});// Сброс формы\nsetTimeout(()=>{setFormData({kind:'',description:'',district:'',name:(user===null||user===void 0?void 0:user.name)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',email:(user===null||user===void 0?void 0:user.email)||'',mark:'',confirm:false});setImages([null,null,null]);setImagePreviews([]);setPasswordData({password:'',password_confirmation:''});setShowPasswordFields(false);// Закрываем модальное окно\nconst closeBtn=document.querySelector('[data-bs-dismiss=\"modal\"]');if(closeBtn)closeBtn.click();},2000);}else{setMessage({type:'danger',text:result.message||'Ошибка при создании объявления'});}}catch(error){setMessage({type:'danger',text:'Ошибка сети'});}finally{setIsSubmitting(false);}};const handleCancel=()=>{setErrors({});setMessage({type:'',text:''});setShowPasswordFields(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"newPost\",tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0438\\u0442\\u044C \\u043E \\u043D\\u0430\\u0445\\u043E\\u0434\\u043A\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",onClick:handleCancel})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[message.text&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-\".concat(message.type),children:message.text}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle me-2\"}),\"\\u0412\\u044B \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u043D\\u044B \\u043A\\u0430\\u043A \",/*#__PURE__*/_jsx(\"strong\",{children:user.name})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u0438\\u0434 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(errors.kind?'is-invalid':''),name:\"kind\",value:formData.kind,onChange:handleInputChange,placeholder:\"\\u041A\\u043E\\u0442, \\u0441\\u043E\\u0431\\u0430\\u043A\\u0430, \\u043A\\u0440\\u043E\\u043B\\u0438\\u043A \\u0438 \\u0442.\\u0434.\",disabled:isSubmitting}),errors.kind&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.kind})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F *\"}),user?/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control bg-light\",value:user.name,readOnly:true,disabled:true}):/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(errors.name?'is-invalid':''),name:\"name\",value:formData.name,onChange:handleInputChange,placeholder:\"\\u0418\\u0432\\u0430\\u043D \\u0418\\u0432\\u0430\\u043D\\u043E\\u0432\",disabled:isSubmitting}),errors.name&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041C\\u0435\\u0442\\u043A\\u0430/\\u041E\\u0441\\u043E\\u0431\\u0435\\u043D\\u043D\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"mark\",value:formData.mark,onChange:handleInputChange,placeholder:\"\\u041F\\u0440\\u0438\\u0443\\u0447\\u0435\\u043D \\u043A \\u043B\\u043E\\u0442\\u043A\\u0443, \\u0437\\u043D\\u0430\\u0435\\u0442 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u044B \\u0438 \\u0442.\\u0434.\",disabled:isSubmitting})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control \".concat(errors.phone?'is-invalid':''),name:\"phone\",value:formData.phone,onChange:handleInputChange,placeholder:\"+7 (999) 999-99-99 \\u0438\\u043B\\u0438 \\u043B\\u044E\\u0431\\u043E\\u0439 \\u0434\\u0440\\u0443\\u0433\\u043E\\u0439 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\",disabled:isSubmitting}),errors.phone&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.phone}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"\\u041B\\u044E\\u0431\\u043E\\u0439 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0420\\u0430\\u0439\\u043E\\u043D \\u043D\\u0430\\u0445\\u043E\\u0434\\u043A\\u0438 *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select \".concat(errors.district?'is-invalid':''),name:\"district\",value:formData.district,onChange:handleInputChange,disabled:isSubmitting,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u0430\\u0439\\u043E\\u043D\"}),districts.map((district,index)=>/*#__PURE__*/_jsx(\"option\",{value:district,children:district},index))]}),errors.district&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.district})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email *\"}),user?/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control bg-light\",value:user.email,readOnly:true,disabled:true}):/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control \".concat(errors.email?'is-invalid':''),name:\"email\",value:formData.email,onChange:handleInputChange,placeholder:\"example@email.com\",disabled:isSubmitting}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0424\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control \".concat(errors.photo1?'is-invalid':''),accept:\"image/*\",onChange:e=>handleImageChange(e,0),disabled:isSubmitting}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"\\u041F\\u0435\\u0440\\u0432\\u0430\\u044F \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044F \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u0430\"}),errors.photo1&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.photo1}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control mt-2\",accept:\"image/*\",onChange:e=>handleImageChange(e,1),disabled:isSubmitting}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control mt-2\",accept:\"image/*\",onChange:e=>handleImageChange(e,2),disabled:isSubmitting}),imagePreviews.some(preview=>preview)&&/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3\",children:imagePreviews.map((preview,index)=>preview&&/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview,className:\"img-thumbnail w-100\",alt:\"Preview \".concat(index+1),style:{height:'100px',objectFit:'cover'}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-sm position-absolute top-0 end-0\",onClick:()=>removeImage(index),disabled:isSubmitting,children:\"\\xD7\"})]})},index))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E *\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control \".concat(errors.description?'is-invalid':''),name:\"description\",rows:\"3\",value:formData.description,onChange:handleInputChange,placeholder:\"\\u041E\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0435, \\u0435\\u0433\\u043E \\u043F\\u043E\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u0435, \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u0435 \\u0437\\u0434\\u043E\\u0440\\u043E\\u0432\\u044C\\u044F \\u0438 \\u0442.\\u0434.\",disabled:isSubmitting}),errors.description&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.description})]}),showPasswordFields&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-top pt-3 mt-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control \".concat(errors.password?'is-invalid':''),name:\"password\",value:passwordData.password,onChange:handlePasswordChange,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",disabled:isSubmitting}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.password}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:user?'Введите пароль для подтверждения':'Минимум 6 символов'})]})}),!user&&/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control \".concat(errors.password_confirmation?'is-invalid':''),name:\"password_confirmation\",value:passwordData.password_confirmation,onChange:handlePasswordChange,placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",disabled:isSubmitting}),errors.password_confirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.password_confirmation})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input \".concat(errors.confirm?'is-invalid':''),name:\"confirm\",checked:formData.confirm,onChange:handleInputChange,disabled:isSubmitting}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"\\u042F \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 *\"}),errors.confirm&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.confirm})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",onClick:handleCancel,disabled:isSubmitting,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\"}),\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430...\"]}):showPasswordFields?'Создать объявление':'Далее → Ввести пароль'})]})]})]})]})})});};export default FoundAnimalForm;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FoundAnimalForm","user","formData","setFormData","kind","description","district","name","phone","email","mark","confirm","images","setImages","imagePreviews","setImagePreviews","errors","setErrors","message","setMessage","type","text","isSubmitting","setIsSubmitting","showPasswordFields","setShowPasswordFields","passwordData","setPasswordData","password","password_confirmation","districts","validateForm","newErrors","trim","photo1","test","handleImageChange","e","index","file","target","files","newImages","reader","FileReader","onload","newPreviews","result","readAsDataURL","concat","prev","_objectSpread","removeImage","handleInputChange","value","checked","handlePasswordChange","handleSubmit","preventDefault","validationErrors","Object","keys","length","apiFormData","FormData","forEach","image","append","key","headers","token","response","fetch","method","body","json","ok","setTimeout","closeBtn","document","querySelector","click","error","handleCancel","className","id","tabIndex","children","onClick","onSubmit","onChange","placeholder","disabled","readOnly","map","accept","some","preview","src","alt","style","height","objectFit","rows"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/forms/FoundAnimalForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from \"../auth/AuthContext\";\r\n\r\nconst FoundAnimalForm = () => {\r\n  const { user } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    kind: '',\r\n    description: '',\r\n    district: '',\r\n    name: user?.name || '',\r\n    phone: user?.phone || '',\r\n    email: user?.email || '',\r\n    mark: '',\r\n    confirm: false\r\n  });\r\n  \r\n  const [images, setImages] = useState([null, null, null]);\r\n  const [imagePreviews, setImagePreviews] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showPasswordFields, setShowPasswordFields] = useState(false);\r\n  const [passwordData, setPasswordData] = useState({\r\n    password: '',\r\n    password_confirmation: ''\r\n  });\r\n\r\n  const districts = [\r\n    'Адмиралтейский район',\r\n    'Василеостровский район',\r\n    'Выборгский район',\r\n    'Калининский район',\r\n    'Кировский район',\r\n    'Колпинский район',\r\n    'Красногвардейский район',\r\n    'Красносельский район',\r\n    'Кронштадтский район',\r\n    'Курортный район',\r\n    'Московский район',\r\n    'Невский район',\r\n    'Петроградский район',\r\n    'Петродворцовый район',\r\n    'Приморский район',\r\n    'Пушкинский район',\r\n    'Фрунзенский район',\r\n    'Центральный район'\r\n  ];\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!formData.kind.trim()) {\r\n      newErrors.kind = 'Укажите вид животного';\r\n    }\r\n    \r\n    if (!formData.description.trim()) {\r\n      newErrors.description = 'Введите описание';\r\n    }\r\n    \r\n    if (!formData.district) {\r\n      newErrors.district = 'Выберите район';\r\n    }\r\n    \r\n    if (!images[0]) {\r\n      newErrors.photo1 = 'Добавьте хотя бы одну фотографию';\r\n    }\r\n    \r\n    if (!formData.name.trim()) {\r\n      newErrors.name = 'Введите ваше имя';\r\n    }\r\n    \r\n    if (!formData.phone.trim()) {\r\n      newErrors.phone = 'Введите телефон';\r\n    }\r\n    \r\n    if (!formData.email.trim()) {\r\n      newErrors.email = 'Введите email';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      newErrors.email = 'Введите корректный email';\r\n    }\r\n    \r\n    if (!formData.confirm) {\r\n      newErrors.confirm = 'Необходимо согласие';\r\n    }\r\n    \r\n    return newErrors;\r\n  };\r\n\r\n  const handleImageChange = (e, index) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    \r\n    const newImages = [...images];\r\n    newImages[index] = file;\r\n    setImages(newImages);\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const newPreviews = [...imagePreviews];\r\n      newPreviews[index] = e.target.result;\r\n      setImagePreviews(newPreviews);\r\n    };\r\n    reader.readAsDataURL(file);\r\n    \r\n    if (errors[`photo${index + 1}`]) {\r\n      setErrors(prev => ({ ...prev, [`photo${index + 1}`]: null }));\r\n    }\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    const newImages = [...images];\r\n    newImages[index] = null;\r\n    setImages(newImages);\r\n    \r\n    const newPreviews = [...imagePreviews];\r\n    newPreviews[index] = null;\r\n    setImagePreviews(newPreviews);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n    \r\n    if (errors[name]) {\r\n      setErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n  };\r\n\r\n  const handlePasswordChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPasswordData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErrors({});\r\n    setMessage({ type: '', text: '' });\r\n    \r\n    // Первый шаг: проверка основной формы\r\n    if (!showPasswordFields) {\r\n      const validationErrors = validateForm();\r\n      if (Object.keys(validationErrors).length > 0) {\r\n        setErrors(validationErrors);\r\n        return;\r\n      }\r\n      setShowPasswordFields(true);\r\n      return;\r\n    }\r\n    \r\n    // Второй шаг: проверка пароля\r\n    if (!passwordData.password) {\r\n      setErrors(prev => ({ ...prev, password: 'Введите пароль' }));\r\n      return;\r\n    }\r\n    \r\n    if (!user && passwordData.password !== passwordData.password_confirmation) {\r\n      setErrors(prev => ({ ...prev, password_confirmation: 'Пароли не совпадают' }));\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      const apiFormData = new FormData();\r\n      \r\n      // Добавляем изображения\r\n      images.forEach((image, index) => {\r\n        if (image) {\r\n          apiFormData.append(`photo${index + 1}`, image);\r\n        }\r\n      });\r\n      \r\n      // Добавляем данные формы\r\n      Object.keys(formData).forEach(key => {\r\n        if (key !== 'confirm') {\r\n          apiFormData.append(key, formData[key]);\r\n        } else {\r\n          apiFormData.append(key, formData[key] ? 1 : 0);\r\n        }\r\n      });\r\n      \r\n      // Добавляем пароль\r\n      apiFormData.append('password', passwordData.password);\r\n      if (!user) {\r\n        apiFormData.append('password_confirmation', passwordData.password_confirmation);\r\n      }\r\n      \r\n      // Настраиваем заголовки\r\n      const headers = {};\r\n      if (user) {\r\n        headers['Authorization'] = `Bearer ${user.token}`;\r\n      }\r\n      \r\n      const response = await fetch('https://pets.xn--80ahdri7a.site/api/pets', {\r\n        method: 'POST',\r\n        headers,\r\n        body: apiFormData\r\n      });\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (response.ok) {\r\n        setMessage({ type: 'success', text: 'Объявление успешно создано!' });\r\n        \r\n        // Сброс формы\r\n        setTimeout(() => {\r\n          setFormData({\r\n            kind: '',\r\n            description: '',\r\n            district: '',\r\n            name: user?.name || '',\r\n            phone: user?.phone || '',\r\n            email: user?.email || '',\r\n            mark: '',\r\n            confirm: false\r\n          });\r\n          setImages([null, null, null]);\r\n          setImagePreviews([]);\r\n          setPasswordData({ password: '', password_confirmation: '' });\r\n          setShowPasswordFields(false);\r\n          \r\n          // Закрываем модальное окно\r\n          const closeBtn = document.querySelector('[data-bs-dismiss=\"modal\"]');\r\n          if (closeBtn) closeBtn.click();\r\n        }, 2000);\r\n      } else {\r\n        setMessage({ type: 'danger', text: result.message || 'Ошибка при создании объявления' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'danger', text: 'Ошибка сети' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setErrors({});\r\n    setMessage({ type: '', text: '' });\r\n    setShowPasswordFields(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal fade\" id=\"newPost\" tabIndex=\"-1\">\r\n      <div className=\"modal-dialog modal-lg\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Сообщить о находке</h5>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\" \r\n              data-bs-dismiss=\"modal\"\r\n              onClick={handleCancel}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"modal-body\">\r\n            {message.text && (\r\n              <div className={`alert alert-${message.type}`}>\r\n                {message.text}\r\n              </div>\r\n            )}\r\n            \r\n            {user && (\r\n              <div className=\"alert alert-info\">\r\n                <i className=\"bi bi-info-circle me-2\"></i>\r\n                Вы авторизованы как <strong>{user.name}</strong>\r\n              </div>\r\n            )}\r\n            \r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Вид животного *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`form-control ${errors.kind ? 'is-invalid' : ''}`}\r\n                      name=\"kind\"\r\n                      value={formData.kind}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Кот, собака, кролик и т.д.\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                    {errors.kind && (\r\n                      <div className=\"invalid-feedback\">{errors.kind}</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Ваше имя *</label>\r\n                    {user ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control bg-light\"\r\n                        value={user.name}\r\n                        readOnly\r\n                        disabled\r\n                      />\r\n                    ) : (\r\n                      <input\r\n                        type=\"text\"\r\n                        className={`form-control ${errors.name ? 'is-invalid' : ''}`}\r\n                        name=\"name\"\r\n                        value={formData.name}\r\n                        onChange={handleInputChange}\r\n                        placeholder=\"Иван Иванов\"\r\n                        disabled={isSubmitting}\r\n                      />\r\n                    )}\r\n                    {errors.name && (\r\n                      <div className=\"invalid-feedback\">{errors.name}</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Метка/Особенности</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"mark\"\r\n                      value={formData.mark}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Приучен к лотку, знает команды и т.д.\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Телефон *</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      className={`form-control ${errors.phone ? 'is-invalid' : ''}`}\r\n                      name=\"phone\"\r\n                      value={formData.phone}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"+7 (999) 999-99-99 или любой другой формат\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                    {errors.phone && (\r\n                      <div className=\"invalid-feedback\">{errors.phone}</div>\r\n                    )}\r\n                    <small className=\"text-muted\">Любой формат телефона</small>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-6\">\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Район находки *</label>\r\n                    <select\r\n                      className={`form-select ${errors.district ? 'is-invalid' : ''}`}\r\n                      name=\"district\"\r\n                      value={formData.district}\r\n                      onChange={handleInputChange}\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      <option value=\"\">Выберите район</option>\r\n                      {districts.map((district, index) => (\r\n                        <option key={index} value={district}>{district}</option>\r\n                      ))}\r\n                    </select>\r\n                    {errors.district && (\r\n                      <div className=\"invalid-feedback\">{errors.district}</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Email *</label>\r\n                    {user ? (\r\n                      <input\r\n                        type=\"email\"\r\n                        className=\"form-control bg-light\"\r\n                        value={user.email}\r\n                        readOnly\r\n                        disabled\r\n                      />\r\n                    ) : (\r\n                      <input\r\n                        type=\"email\"\r\n                        className={`form-control ${errors.email ? 'is-invalid' : ''}`}\r\n                        name=\"email\"\r\n                        value={formData.email}\r\n                        onChange={handleInputChange}\r\n                        placeholder=\"example@email.com\"\r\n                        disabled={isSubmitting}\r\n                      />\r\n                    )}\r\n                    {errors.email && (\r\n                      <div className=\"invalid-feedback\">{errors.email}</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Фотографии *</label>\r\n                    <input\r\n                      type=\"file\"\r\n                      className={`form-control ${errors.photo1 ? 'is-invalid' : ''}`}\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleImageChange(e, 0)}\r\n                      disabled={isSubmitting}\r\n                    />\r\n                    <small className=\"text-muted\">Первая фотография обязательна</small>\r\n                    {errors.photo1 && (\r\n                      <div className=\"invalid-feedback\">{errors.photo1}</div>\r\n                    )}\r\n                    \r\n                    <input\r\n                      type=\"file\"\r\n                      className=\"form-control mt-2\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleImageChange(e, 1)}\r\n                      disabled={isSubmitting}\r\n                    />\r\n                    \r\n                    <input\r\n                      type=\"file\"\r\n                      className=\"form-control mt-2\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleImageChange(e, 2)}\r\n                      disabled={isSubmitting}\r\n                    />\r\n                    \r\n                    {imagePreviews.some(preview => preview) && (\r\n                      <div className=\"row mt-3\">\r\n                        {imagePreviews.map((preview, index) => (\r\n                          preview && (\r\n                            <div key={index} className=\"col-4\">\r\n                              <div className=\"position-relative\">\r\n                                <img\r\n                                  src={preview}\r\n                                  className=\"img-thumbnail w-100\"\r\n                                  alt={`Preview ${index + 1}`}\r\n                                  style={{ height: '100px', objectFit: 'cover' }}\r\n                                />\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-danger btn-sm position-absolute top-0 end-0\"\r\n                                  onClick={() => removeImage(index)}\r\n                                  disabled={isSubmitting}\r\n                                >\r\n                                  ×\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          )\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">Описание животного *</label>\r\n                <textarea\r\n                  className={`form-control ${errors.description ? 'is-invalid' : ''}`}\r\n                  name=\"description\"\r\n                  rows=\"3\"\r\n                  value={formData.description}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Опишите животное, его поведение, состояние здоровья и т.д.\"\r\n                  disabled={isSubmitting}\r\n                />\r\n                {errors.description && (\r\n                  <div className=\"invalid-feedback\">{errors.description}</div>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Поля пароля */}\r\n              {showPasswordFields && (\r\n                <div className=\"border-top pt-3 mt-3\">\r\n                  <h6>Подтверждение пароля</h6>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Пароль *</label>\r\n                        <input\r\n                          type=\"password\"\r\n                          className={`form-control ${errors.password ? 'is-invalid' : ''}`}\r\n                          name=\"password\"\r\n                          value={passwordData.password}\r\n                          onChange={handlePasswordChange}\r\n                          placeholder=\"Введите пароль\"\r\n                          disabled={isSubmitting}\r\n                        />\r\n                        {errors.password && (\r\n                          <div className=\"invalid-feedback\">{errors.password}</div>\r\n                        )}\r\n                        <small className=\"text-muted\">\r\n                          {user ? 'Введите пароль для подтверждения' : 'Минимум 6 символов'}\r\n                        </small>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {!user && (\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Подтверждение пароля *</label>\r\n                          <input\r\n                            type=\"password\"\r\n                            className={`form-control ${errors.password_confirmation ? 'is-invalid' : ''}`}\r\n                            name=\"password_confirmation\"\r\n                            value={passwordData.password_confirmation}\r\n                            onChange={handlePasswordChange}\r\n                            placeholder=\"Повторите пароль\"\r\n                            disabled={isSubmitting}\r\n                          />\r\n                          {errors.password_confirmation && (\r\n                            <div className=\"invalid-feedback\">{errors.password_confirmation}</div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"mb-3 form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className={`form-check-input ${errors.confirm ? 'is-invalid' : ''}`}\r\n                  name=\"confirm\"\r\n                  checked={formData.confirm}\r\n                  onChange={handleInputChange}\r\n                  disabled={isSubmitting}\r\n                />\r\n                <label className=\"form-check-label\">\r\n                  Я согласен на обработку персональных данных *\r\n                </label>\r\n                {errors.confirm && (\r\n                  <div className=\"invalid-feedback\">{errors.confirm}</div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"modal-footer\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-secondary\" \r\n                  data-bs-dismiss=\"modal\"\r\n                  onClick={handleCancel}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Отмена\r\n                </button>\r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"btn btn-primary\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                      Отправка...\r\n                    </>\r\n                  ) : showPasswordFields ? 'Создать объявление' : 'Далее → Ввести пароль'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FoundAnimalForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}