{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../auth/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{onAnimalClick}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const location=useLocation();const[searchQuery,setSearchQuery]=useState(\"\");const[suggestions,setSuggestions]=useState([]);const[isLoading,setIsLoading]=useState(false);const[showSuggestions,setShowSuggestions]=useState(false);const searchRef=useRef(null);const debounceTimerRef=useRef(null);// Закрытие подсказок при клике вне компонента\nuseEffect(()=>{const handleClickOutside=event=>{if(searchRef.current&&!searchRef.current.contains(event.target)){setShowSuggestions(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);const fetchSuggestions=async query=>{if(query.length<3){setSuggestions([]);return;}setIsLoading(true);try{const url=\"https://pets.xn--80ahdri7a.site/api/search?query=\".concat(encodeURIComponent(query));const response=await fetch(url,{method:'GET',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error('Ошибка при поиске');}const result=await response.json();if(result.data&&result.data.orders){const processedSuggestions=result.data.orders.map(order=>({id:order.id,kind:order.kind||\"Животное\",description:order.description||\"Нет описания\",date:order.date||\"Дата не указана\",district:order.district||\"Район не указан\",mark:order.mark||\"Нет\",photos:order.photos?\"https://pets.xn--80ahdri7a.site\".concat(order.photos):null,photo:order.photo?\"https://pets.xn--80ahdri7a.site\".concat(order.photo):null}));setSuggestions(processedSuggestions);}else{setSuggestions([]);}}catch(error){console.error(\"Ошибка поиска:\",error);setSuggestions([]);}finally{setIsLoading(false);}};const handleSearchChange=e=>{const value=e.target.value;setSearchQuery(value);setShowSuggestions(true);if(debounceTimerRef.current){clearTimeout(debounceTimerRef.current);}debounceTimerRef.current=setTimeout(()=>{fetchSuggestions(value);},500);};const handleSearchSubmit=e=>{e.preventDefault();if(searchQuery.trim().length<3){alert(\"Введите минимум 3 символа для поиска\");return;}// Перенаправляем на страницу /find-animals с поисковым запросом\nnavigate(\"/find-animals?search=\".concat(encodeURIComponent(searchQuery)));setShowSuggestions(false);setSearchQuery(\"\");};const handleSuggestionClick=suggestion=>{if(suggestion.id&&onAnimalClick){onAnimalClick(suggestion.id);setShowSuggestions(false);setSearchQuery(\"\");}};const handleLogout=()=>{logout();alert(\"Вы вышли из аккаунта\");};// Проверяем активную страницу\nconst isActive=path=>{return location.pathname===path;};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar-brand\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-heart-fill me-2\"}),\"WebPets\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-link \".concat(isActive('/')?'active':''),children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/find-animals\",className:\"nav-link \".concat(isActive('/find-animals')?'active':''),children:\"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0430\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link btn btn-link\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#newPost\",children:\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0438\\u0442\\u044C \\u043E \\u043D\\u0430\\u0445\\u043E\\u0434\\u043A\\u0435\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative me-3\",ref:searchRef,children:[/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",onSubmit:handleSearchSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control me-2\",type:\"search\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A...\",value:searchQuery,onChange:handleSearchChange,onFocus:()=>searchQuery.length>=3&&setShowSuggestions(true)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-light\",type:\"submit\",children:isLoading?/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\",role:\"status\"}):\"Поиск\"})]}),showSuggestions&&searchQuery.length>=3&&/*#__PURE__*/_jsxs(\"div\",{className:\"suggestions-dropdown position-absolute top-100 start-0 end-0 mt-1 bg-white border rounded shadow-lg z-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 border-bottom\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:isLoading?\"Идет поиск...\":\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E: \".concat(suggestions.length)})}),suggestions.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled mb-0\",style:{maxHeight:\"300px\",overflowY:\"auto\"},children:suggestions.map(suggestion=>/*#__PURE__*/_jsx(\"li\",{className:\"suggestion-item p-2 border-bottom hover-bg-light\",onClick:()=>handleSuggestionClick(suggestion),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[suggestion.photos||suggestion.photo?/*#__PURE__*/_jsx(\"img\",{src:suggestion.photos||suggestion.photo,alt:suggestion.kind,className:\"rounded me-2\",style:{width:\"40px\",height:\"40px\",objectFit:\"cover\"},onError:e=>{e.target.onerror=null;e.target.src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' fill='%236c757d' text-anchor='middle' dy='.3em'%3EНет фото%3C/text%3E%3C/svg%3E\";}}):/*#__PURE__*/_jsx(\"div\",{className:\"rounded me-2 d-flex align-items-center justify-content-center\",style:{width:\"40px\",height:\"40px\",backgroundColor:\"#f8f9fa\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-image text-muted\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"strong\",{children:suggestion.kind||\"Без названия\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:suggestion.district||\"Район не указан\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-truncate\",style:{maxWidth:\"300px\"},children:suggestion.description||\"Нет описания\"})]})]})},suggestion.id))}):!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 text-center text-muted\",children:[\"\\u041F\\u043E \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\\"\",searchQuery,\"\\\" \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light me-2\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#contacts\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light me-2\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#authModal\",onClick:()=>{if(user){handleLogout();}},children:user?\"Выйти\":\"Войти\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#profileModal\",children:user?user.name:\"Профиль\"})]})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Header","_ref","onAnimalClick","user","logout","navigate","location","searchQuery","setSearchQuery","suggestions","setSuggestions","isLoading","setIsLoading","showSuggestions","setShowSuggestions","searchRef","debounceTimerRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","fetchSuggestions","query","length","url","concat","encodeURIComponent","response","fetch","method","headers","ok","Error","result","json","data","orders","processedSuggestions","map","order","id","kind","description","date","district","mark","photos","photo","error","console","handleSearchChange","e","value","clearTimeout","setTimeout","handleSearchSubmit","preventDefault","trim","alert","handleSuggestionClick","suggestion","handleLogout","isActive","path","pathname","className","children","to","type","ref","onSubmit","placeholder","onChange","onFocus","role","style","maxHeight","overflowY","onClick","cursor","src","alt","width","height","objectFit","onError","onerror","backgroundColor","maxWidth","name"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/layout/Header.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../auth/AuthContext';\r\n\r\nconst Header = ({ onAnimalClick }) => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const searchRef = useRef(null);\r\n  \r\n  const debounceTimerRef = useRef(null);\r\n\r\n  // Закрытие подсказок при клике вне компонента\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n        setShowSuggestions(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const fetchSuggestions = async (query) => {\r\n    if (query.length < 3) {\r\n      setSuggestions([]);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const url = `https://pets.xn--80ahdri7a.site/api/search?query=${encodeURIComponent(query)}`;\r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Ошибка при поиске');\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.data && result.data.orders) {\r\n        const processedSuggestions = result.data.orders.map(order => ({\r\n          id: order.id,\r\n          kind: order.kind || \"Животное\",\r\n          description: order.description || \"Нет описания\",\r\n          date: order.date || \"Дата не указана\",\r\n          district: order.district || \"Район не указан\",\r\n          mark: order.mark || \"Нет\",\r\n          photos: order.photos ? `https://pets.xn--80ahdri7a.site${order.photos}` : null,\r\n          photo: order.photo ? `https://pets.xn--80ahdri7a.site${order.photo}` : null,\r\n        }));\r\n        setSuggestions(processedSuggestions);\r\n      } else {\r\n        setSuggestions([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Ошибка поиска:\", error);\r\n      setSuggestions([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchQuery(value);\r\n    setShowSuggestions(true);\r\n\r\n    if (debounceTimerRef.current) {\r\n      clearTimeout(debounceTimerRef.current);\r\n    }\r\n\r\n    debounceTimerRef.current = setTimeout(() => {\r\n      fetchSuggestions(value);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSearchSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (searchQuery.trim().length < 3) {\r\n      alert(\"Введите минимум 3 символа для поиска\");\r\n      return;\r\n    }\r\n\r\n    // Перенаправляем на страницу /find-animals с поисковым запросом\r\n    navigate(`/find-animals?search=${encodeURIComponent(searchQuery)}`);\r\n    setShowSuggestions(false);\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    if (suggestion.id && onAnimalClick) {\r\n      onAnimalClick(suggestion.id);\r\n      setShowSuggestions(false);\r\n      setSearchQuery(\"\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    alert(\"Вы вышли из аккаунта\");\r\n  };\r\n\r\n  // Проверяем активную страницу\r\n  const isActive = (path) => {\r\n    return location.pathname === path;\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\r\n      <div className=\"container\">\r\n        <Link to=\"/\" className=\"navbar-brand\">\r\n          <i className=\"bi bi-heart-fill me-2\"></i>WebPets\r\n        </Link>\r\n        \r\n        <button \r\n          className=\"navbar-toggler\" \r\n          type=\"button\" \r\n          data-bs-toggle=\"collapse\" \r\n          data-bs-target=\"#navbarNav\"\r\n          aria-controls=\"navbarNav\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        \r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <ul className=\"navbar-nav me-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link \r\n                to=\"/\" \r\n                className={`nav-link ${isActive('/') ? 'active' : ''}`}\r\n              >\r\n                Главная\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link \r\n                to=\"/find-animals\" \r\n                className={`nav-link ${isActive('/find-animals') ? 'active' : ''}`}\r\n              >\r\n                Найти питомца\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <button \r\n                className=\"nav-link btn btn-link\" \r\n                data-bs-toggle=\"modal\" \r\n                data-bs-target=\"#newPost\"\r\n              >\r\n                Сообщить о находке\r\n              </button>\r\n            </li>\r\n          </ul>\r\n          \r\n          <div className=\"d-flex align-items-center\">\r\n            {/* Поиск с подсказками */}\r\n            <div className=\"position-relative me-3\" ref={searchRef}>\r\n              <form className=\"d-flex\" onSubmit={handleSearchSubmit}>\r\n                <input \r\n                  className=\"form-control me-2\" \r\n                  type=\"search\" \r\n                  placeholder=\"Поиск...\" \r\n                  value={searchQuery}\r\n                  onChange={handleSearchChange}\r\n                  onFocus={() => searchQuery.length >= 3 && setShowSuggestions(true)}\r\n                />\r\n                <button className=\"btn btn-outline-light\" type=\"submit\">\r\n                  {isLoading ? (\r\n                    <span className=\"spinner-border spinner-border-sm\" role=\"status\"></span>\r\n                  ) : (\r\n                    \"Поиск\"\r\n                  )}\r\n                </button>\r\n              </form>\r\n              \r\n              {/* Подсказки */}\r\n              {showSuggestions && searchQuery.length >= 3 && (\r\n                <div className=\"suggestions-dropdown position-absolute top-100 start-0 end-0 mt-1 bg-white border rounded shadow-lg z-3\">\r\n                  <div className=\"p-2 border-bottom\">\r\n                    <small className=\"text-muted\">\r\n                      {isLoading ? \"Идет поиск...\" : `Найдено: ${suggestions.length}`}\r\n                    </small>\r\n                  </div>\r\n                  \r\n                  {suggestions.length > 0 ? (\r\n                    <ul className=\"list-unstyled mb-0\" style={{ maxHeight: \"300px\", overflowY: \"auto\" }}>\r\n                      {suggestions.map((suggestion) => (\r\n                        <li \r\n                          key={suggestion.id} \r\n                          className=\"suggestion-item p-2 border-bottom hover-bg-light\"\r\n                          onClick={() => handleSuggestionClick(suggestion)}\r\n                          style={{ cursor: 'pointer' }}\r\n                        >\r\n                          <div className=\"d-flex align-items-center\">\r\n                            {suggestion.photos || suggestion.photo ? (\r\n                              <img \r\n                                src={suggestion.photos || suggestion.photo}\r\n                                alt={suggestion.kind}\r\n                                className=\"rounded me-2\"\r\n                                style={{ width: \"40px\", height: \"40px\", objectFit: \"cover\" }}\r\n                                onError={(e) => {\r\n                                  e.target.onerror = null;\r\n                                  e.target.src = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' fill='%236c757d' text-anchor='middle' dy='.3em'%3EНет фото%3C/text%3E%3C/svg%3E\";\r\n                                }}\r\n                              />\r\n                            ) : (\r\n                              <div className=\"rounded me-2 d-flex align-items-center justify-content-center\"\r\n                                style={{ width: \"40px\", height: \"40px\", backgroundColor: \"#f8f9fa\" }}>\r\n                                <i className=\"bi bi-image text-muted\"></i>\r\n                              </div>\r\n                            )}\r\n                            \r\n                            <div className=\"flex-grow-1\">\r\n                              <div className=\"d-flex justify-content-between\">\r\n                                <strong>{suggestion.kind || \"Без названия\"}</strong>\r\n                                <small className=\"text-muted\">{suggestion.district || \"Район не указан\"}</small>\r\n                              </div>\r\n                              <div className=\"text-truncate\" style={{ maxWidth: \"300px\" }}>\r\n                                {suggestion.description || \"Нет описания\"}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  ) : (\r\n                    !isLoading && (\r\n                      <div className=\"p-3 text-center text-muted\">\r\n                        По запросу \"{searchQuery}\" ничего не найдено\r\n                      </div>\r\n                    )\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Контакты */}\r\n            <button \r\n              className=\"btn btn-light me-2\" \r\n              data-bs-toggle=\"modal\" \r\n              data-bs-target=\"#contacts\"\r\n            >\r\n              Контакты\r\n            </button>\r\n            \r\n            {/* Авторизация */}\r\n            <button \r\n              className=\"btn btn-light me-2\" \r\n              data-bs-toggle=\"modal\" \r\n              data-bs-target=\"#authModal\"\r\n              onClick={() => {\r\n                if (user) {\r\n                  handleLogout();\r\n                }\r\n              }}\r\n            >\r\n              {user ? \"Выйти\" : \"Войти\"}\r\n            </button>\r\n            \r\n            {/* Профиль */}\r\n            <button \r\n              className=\"btn btn-light\" \r\n              data-bs-toggle=\"modal\" \r\n              data-bs-target=\"#profileModal\"\r\n            >\r\n              {user ? user.name : \"Профиль\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}