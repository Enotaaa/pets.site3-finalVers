{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnimalCard=_ref=>{let{animal,onViewClick}=_ref;const formatDate=dateString=>{if(!dateString)return'Не указана';if(dateString.includes('-')){const[day,month,year]=dateString.split('-');return\"\".concat(day,\".\").concat(month,\".\").concat(year);}return dateString;};const getImageUrl=photoPath=>{if(!photoPath)return'';if(photoPath.startsWith('http'))return photoPath;return\"https://pets.xn--80ahdri7a.site\".concat(photoPath);};const getAnimalTypeFromKind=kind=>{const kindLower=(kind===null||kind===void 0?void 0:kind.toLowerCase())||'';if(kindLower.includes('кошка')||kindLower.includes('кот'))return'cat';if(kindLower.includes('собака'))return'dog';if(kindLower.includes('кролик'))return'rabbit';return'other';};const getTypeBadgeClass=type=>{switch(type){case'cat':return'badge bg-info';case'dog':return'badge bg-warning text-dark';case'rabbit':return'badge bg-purple';default:return'badge bg-secondary';}};const getTypeText=type=>{switch(type){case'cat':return'Кошка';case'dog':return'Собака';case'rabbit':return'Кролик';default:return'Другое';}};const animalType=getAnimalTypeFromKind(animal.kind);const handleViewClick=()=>{if(onViewClick){onViewClick(animal.id);}else{// Если нет callback, отправляем глобальное событие\nwindow.dispatchEvent(new CustomEvent('openAnimalModal',{detail:{animalId:animal.id}}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card animal-card h-100 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(animal.photo||animal.photos),className:\"card-img-top\",alt:animal.kind||'Животное',style:{height:'200px',objectFit:'cover'},onError:e=>{e.target.onerror=null;e.target.src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='14' fill='%236c757d' text-anchor='middle' dy='.3em'%3EНет фото%3C/text%3E%3C/svg%3E\";}}),/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 end-0 m-2\",children:/*#__PURE__*/_jsx(\"span\",{className:getTypeBadgeClass(animalType),children:getTypeText(animalType)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:animal.kind||'Животное'}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-geo-alt me-1\"}),animal.district||'Район не указан']})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text flex-grow-1\",style:{overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:3,WebkitBoxOrient:'vertical'},children:animal.description||'Нет описания'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light text-dark\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar me-1\"}),formatDate(animal.date)]}),animal.mark&&/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-tag me-1\"}),animal.mark]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary w-100\",onClick:handleViewClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-eye me-2\"}),\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"]})]})]})]});};export default AnimalCard;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","AnimalCard","_ref","animal","onViewClick","formatDate","dateString","includes","day","month","year","split","concat","getImageUrl","photoPath","startsWith","getAnimalTypeFromKind","kind","kindLower","toLowerCase","getTypeBadgeClass","type","getTypeText","animalType","handleViewClick","id","window","dispatchEvent","CustomEvent","detail","animalId","className","children","src","photo","photos","alt","style","height","objectFit","onError","e","target","onerror","district","overflow","textOverflow","display","WebkitLineClamp","WebkitBoxOrient","description","date","mark","onClick"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/animals/AnimalCard.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst AnimalCard = ({ animal, onViewClick }) => {\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Не указана';\r\n    if (dateString.includes('-')) {\r\n      const [day, month, year] = dateString.split('-');\r\n      return `${day}.${month}.${year}`;\r\n    }\r\n    return dateString;\r\n  };\r\n\r\n  const getImageUrl = (photoPath) => {\r\n    if (!photoPath) return '';\r\n    if (photoPath.startsWith('http')) return photoPath;\r\n    return `https://pets.xn--80ahdri7a.site${photoPath}`;\r\n  };\r\n\r\n  const getAnimalTypeFromKind = (kind) => {\r\n    const kindLower = kind?.toLowerCase() || '';\r\n    if (kindLower.includes('кошка') || kindLower.includes('кот')) return 'cat';\r\n    if (kindLower.includes('собака')) return 'dog';\r\n    if (kindLower.includes('кролик')) return 'rabbit';\r\n    return 'other';\r\n  };\r\n\r\n  const getTypeBadgeClass = (type) => {\r\n    switch(type) {\r\n      case 'cat': return 'badge bg-info';\r\n      case 'dog': return 'badge bg-warning text-dark';\r\n      case 'rabbit': return 'badge bg-purple';\r\n      default: return 'badge bg-secondary';\r\n    }\r\n  };\r\n\r\n  const getTypeText = (type) => {\r\n    switch(type) {\r\n      case 'cat': return 'Кошка';\r\n      case 'dog': return 'Собака';\r\n      case 'rabbit': return 'Кролик';\r\n      default: return 'Другое';\r\n    }\r\n  };\r\n\r\n  const animalType = getAnimalTypeFromKind(animal.kind);\r\n\r\n  const handleViewClick = () => {\r\n    if (onViewClick) {\r\n      onViewClick(animal.id);\r\n    } else {\r\n      // Если нет callback, отправляем глобальное событие\r\n      window.dispatchEvent(new CustomEvent('openAnimalModal', { \r\n        detail: { animalId: animal.id } \r\n      }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card animal-card h-100 shadow-sm\">\r\n      <div className=\"position-relative\">\r\n        <img \r\n          src={getImageUrl(animal.photo || animal.photos)}\r\n          className=\"card-img-top\"\r\n          alt={animal.kind || 'Животное'}\r\n          style={{ height: '200px', objectFit: 'cover' }}\r\n          onError={(e) => {\r\n            e.target.onerror = null;\r\n            e.target.src = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23f8f9fa'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='14' fill='%236c757d' text-anchor='middle' dy='.3em'%3EНет фото%3C/text%3E%3C/svg%3E\";\r\n          }}\r\n        />\r\n        <div className=\"position-absolute top-0 end-0 m-2\">\r\n          <span className={getTypeBadgeClass(animalType)}>\r\n            {getTypeText(animalType)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"card-body d-flex flex-column\">\r\n        <h5 className=\"card-title\">{animal.kind || 'Животное'}</h5>\r\n        \r\n        <div className=\"mb-2\">\r\n          <small className=\"text-muted\">\r\n            <i className=\"bi bi-geo-alt me-1\"></i>\r\n            {animal.district || 'Район не указан'}\r\n          </small>\r\n        </div>\r\n        \r\n        <p className=\"card-text flex-grow-1\" style={{ \r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          display: '-webkit-box',\r\n          WebkitLineClamp: 3,\r\n          WebkitBoxOrient: 'vertical'\r\n        }}>\r\n          {animal.description || 'Нет описания'}\r\n        </p>\r\n        \r\n        <div className=\"mt-3\">\r\n          <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n            <span className=\"badge bg-light text-dark\">\r\n              <i className=\"bi bi-calendar me-1\"></i>\r\n              {formatDate(animal.date)}\r\n            </span>\r\n            {animal.mark && (\r\n              <span className=\"badge bg-dark\">\r\n                <i className=\"bi bi-tag me-1\"></i>\r\n                {animal.mark}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <button \r\n            className=\"btn btn-primary w-100\"\r\n            onClick={handleViewClick}\r\n          >\r\n            <i className=\"bi bi-eye me-2\"></i>\r\n            Подробнее\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimalCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}