{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import AnimalCard from'../animals/AnimalCard';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FindAnimalsPage=()=>{var _animalTypes$find,_dateRanges$find,_animalTypes$find2,_dateRanges$find2;const navigate=useNavigate();const location=useLocation();const[allAnimals,setAllAnimals]=useState([]);const[filteredAnimals,setFilteredAnimals]=useState([]);const[loading,setLoading]=useState(true);const[searchQuery,setSearchQuery]=useState(\"\");const[currentPage,setCurrentPage]=useState(1);const[selectedAnimalType,setSelectedAnimalType]=useState('all');const[selectedDateRange,setSelectedDateRange]=useState('all');const[selectedDistrict,setSelectedDistrict]=useState('Все районы');const itemsPerPage=6;// Фильтры для животных\nconst animalTypes=[{value:'all',label:'Все животные'},{value:'cat',label:'Коты'},{value:'dog',label:'Собаки'},{value:'other',label:'Другие'}];const dateRanges=[{value:'all',label:'За всё время'},{value:'today',label:'Сегодня'},{value:'week',label:'За неделю'},{value:'month',label:'За месяц'}];// Список районов для фильтрации\nconst districts=['Все районы','Адмиралтейский','Василеостровский','Выборгский','Калининский','Кировский','Колпинский','Красногвардейский','Красносельский','Кронштадтский','Курортный','Московский','Невский','Петроградский','Петродворцовый','Приморский','Пушкинский','Фрунзенский','Центральный'];// Загружаем все объявления при монтировании компонента\nuseEffect(()=>{fetchAllAnimals();window.scrollTo(0,0);},[]);// Обработка поискового запроса из URL при загрузке страницы\nuseEffect(()=>{const params=new URLSearchParams(location.search);const searchParam=params.get('search');if(searchParam){setSearchQuery(searchParam);}},[location.search]);// Применяем фильтры при их изменении\nuseEffect(()=>{applyFilters();setCurrentPage(1);// Сбрасываем на первую страницу при смене фильтра\n},[selectedAnimalType,selectedDateRange,selectedDistrict,searchQuery,allAnimals]);const fetchAllAnimals=async()=>{setLoading(true);try{// Запрашиваем все объявления без поискового запроса\nconst url='https://pets.xn--80ahdri7a.site/api/search?query=';const response=await fetch(url,{method:'GET',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error('Ошибка при загрузке объявлений');}const result=await response.json();if(result.data&&result.data.orders){const processedAnimals=result.data.orders.map(order=>({id:order.id,kind:order.kind||\"Животное\",description:order.description||\"Нет описания\",date:order.date||\"Дата не указана\",district:order.district||\"Район не указан\",mark:order.mark||\"Нет\",photos:order.photos?\"https://pets.xn--80ahdri7a.site\".concat(order.photos):null,photo:order.photo?\"https://pets.xn--80ahdri7a.site\".concat(order.photo):null,name:order.name,phone:order.phone,email:order.email,animalType:order.animalType||'other'}));setAllAnimals(processedAnimals);setFilteredAnimals(processedAnimals);}else{setAllAnimals([]);setFilteredAnimals([]);}}catch(error){console.error(\"Ошибка загрузки объявлений:\",error);setAllAnimals([]);setFilteredAnimals([]);}finally{setLoading(false);}};const applyFilters=()=>{let filtered=[...allAnimals];// Фильтр по типу животного\nif(selectedAnimalType!=='all'){filtered=filtered.filter(animal=>{var _animal$kind;const kind=((_animal$kind=animal.kind)===null||_animal$kind===void 0?void 0:_animal$kind.toLowerCase())||'';if(selectedAnimalType==='cat'){return kind.includes('кот')||kind.includes('кошка')||kind.includes('котик');}else if(selectedAnimalType==='dog'){return kind.includes('собака')||kind.includes('пёс')||kind.includes('щенок');}else if(selectedAnimalType==='other'){return!kind.includes('кот')&&!kind.includes('кошка')&&!kind.includes('котик')&&!kind.includes('собака')&&!kind.includes('пёс')&&!kind.includes('щенок');}return true;});}// Фильтр по дате (упрощенный)\nif(selectedDateRange!=='all'){const now=new Date();filtered=filtered.filter(animal=>{if(!animal.date)return false;const animalDate=new Date(animal.date);const diffTime=now-animalDate;const diffDays=Math.floor(diffTime/(1000*60*60*24));switch(selectedDateRange){case'today':return diffDays===0;case'week':return diffDays<=7;case'month':return diffDays<=30;default:return true;}});}// Фильтр по району\nif(selectedDistrict!=='Все районы'){filtered=filtered.filter(animal=>animal.district&&animal.district.toLowerCase().includes(selectedDistrict.toLowerCase()));}// Фильтр по поисковому запросу\nif(searchQuery.trim().length>=3){const query=searchQuery.toLowerCase();filtered=filtered.filter(animal=>animal.kind&&animal.kind.toLowerCase().includes(query)||animal.description&&animal.description.toLowerCase().includes(query)||animal.district&&animal.district.toLowerCase().includes(query)||animal.mark&&animal.mark.toLowerCase().includes(query));}setFilteredAnimals(filtered);};const handleSearchSubmit=e=>{e.preventDefault();const searchInput=e.target.querySelector('input[type=\"text\"]');if(searchInput&&searchInput.value.trim().length>=3){setSearchQuery(searchInput.value.trim());setCurrentPage(1);// Обновляем URL с поисковым запросом\nnavigate(\"/find-animals?search=\".concat(encodeURIComponent(searchInput.value.trim())));}else if(searchInput&&searchInput.value.trim().length===0){setSearchQuery(\"\");setCurrentPage(1);navigate('/find-animals');}};const handleAnimalTypeChange=type=>{setSelectedAnimalType(type);};const handleDateRangeChange=range=>{setSelectedDateRange(range);};const handleDistrictChange=district=>{setSelectedDistrict(district);};const handleResetFilters=()=>{setSelectedAnimalType('all');setSelectedDateRange('all');setSelectedDistrict('Все районы');setSearchQuery(\"\");setCurrentPage(1);navigate('/find-animals');};// Рассчитываем пагинацию для отфильтрованных результатов\nconst{paginatedAnimals,totalPages,startIndex,endIndex}=useMemo(()=>{const total=filteredAnimals.length;const totalPages=Math.ceil(total/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=Math.min(startIndex+itemsPerPage,total);const paginatedAnimals=filteredAnimals.slice(startIndex,endIndex);return{paginatedAnimals,totalPages,startIndex:startIndex+1,endIndex};},[filteredAnimals,currentPage,itemsPerPage]);// Функции для управления пагинацией\nconst handleNextPage=()=>{if(currentPage<Math.ceil(filteredAnimals.length/itemsPerPage)){setCurrentPage(prev=>prev+1);window.scrollTo({top:0,behavior:'smooth'});}};const handlePrevPage=()=>{if(currentPage>1){setCurrentPage(prev=>prev-1);window.scrollTo({top:0,behavior:'smooth'});}};const handlePageClick=pageNumber=>{setCurrentPage(pageNumber);window.scrollTo({top:0,behavior:'smooth'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-muted\",children:\"\\u041D\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0430, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0439 \\u0438\\u0449\\u0435\\u0442 \\u0434\\u043E\\u043C, \\u0438\\u043B\\u0438 \\u043F\\u043E\\u043C\\u043E\\u0433\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0439\\u0442\\u0438 \\u0445\\u043E\\u0437\\u044F\\u0438\\u043D\\u0430 \\u0434\\u043B\\u044F \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043D\\u043E\\u0433\\u043E \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 col-lg-6\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearchSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg\",placeholder:\"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0435 \\u043F\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u044E, \\u043F\\u043E\\u0440\\u043E\\u0434\\u0435, \\u0440\\u0430\\u0439\\u043E\\u043D\\u0443...\",minLength:3,defaultValue:searchQuery}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-lg\",type:\"submit\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search me-2\"}),\"\\u041D\\u0430\\u0439\\u0442\\u0438\"]})]})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-funnel me-2\"}),\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\u0422\\u0438\\u043F \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2\",children:animalTypes.map(type=>/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat(selectedAnimalType===type.value?'btn-primary':'btn-outline-primary'),onClick:()=>handleAnimalTypeChange(type.value),children:type.label},type.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u0438:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2\",children:dateRanges.map(range=>/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat(selectedDateRange===range.value?'btn-primary':'btn-outline-primary'),onClick:()=>handleDateRangeChange(range.value),children:range.label},range.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\u0420\\u0430\\u0439\\u043E\\u043D \\u0421\\u0430\\u043D\\u043A\\u0442-\\u041F\\u0435\\u0442\\u0435\\u0440\\u0431\\u0443\\u0440\\u0433\\u0430:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary dropdown-toggle w-100 text-start\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:selectedDistrict}),/*#__PURE__*/_jsx(\"ul\",{className:\"dropdown-menu w-100\",style:{maxHeight:\"300px\",overflowY:\"auto\"},children:districts.map(district=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item \".concat(selectedDistrict===district?'active':''),onClick:()=>handleDistrictChange(district),children:district})},district))})]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted mt-1 d-block\",children:selectedDistrict==='Все районы'?'Показывать все районы':\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D: \".concat(selectedDistrict)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3 mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-card-list me-1\"}),\"\\u0412\\u0441\\u0435\\u0433\\u043E: \",allAnimals.length]})}),/*#__PURE__*/_jsx(\"div\",{className:\"me-3 mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-filter me-1\"}),\"\\u041E\\u0442\\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E: \",filteredAnimals.length]})}),selectedDistrict!=='Все районы'&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-warning text-dark\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-geo-alt me-1\"}),\"\\u0420\\u0430\\u0439\\u043E\\u043D: \",selectedDistrict]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 text-md-end\",children:(selectedAnimalType!=='all'||selectedDateRange!=='all'||selectedDistrict!=='Все районы'||searchQuery)&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:handleResetFilters,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle me-1\"}),\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u0432\\u0441\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"]})})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"search-stats mb-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",children:[\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439: \",loading?'...':filteredAnimals.length,filteredAnimals.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ms-3 badge bg-info\",children:[\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \",currentPage,\" \\u0438\\u0437 \",totalPages]}),selectedAnimalType!=='all'&&/*#__PURE__*/_jsxs(\"span\",{className:\"ms-2 badge bg-warning text-dark\",children:[\"\\u0422\\u0438\\u043F: \",(_animalTypes$find=animalTypes.find(t=>t.value===selectedAnimalType))===null||_animalTypes$find===void 0?void 0:_animalTypes$find.label]}),selectedDateRange!=='all'&&/*#__PURE__*/_jsxs(\"span\",{className:\"ms-2 badge bg-warning text-dark\",children:[\"\\u0414\\u0430\\u0442\\u0430: \",(_dateRanges$find=dateRanges.find(d=>d.value===selectedDateRange))===null||_dateRanges$find===void 0?void 0:_dateRanges$find.label]}),selectedDistrict!=='Все районы'&&/*#__PURE__*/_jsxs(\"span\",{className:\"ms-2 badge bg-warning text-dark\",children:[\"\\u0420\\u0430\\u0439\\u043E\\u043D: \",selectedDistrict]}),searchQuery&&/*#__PURE__*/_jsxs(\"span\",{className:\"ms-2 badge bg-warning text-dark\",children:[\"\\u041F\\u043E\\u0438\\u0441\\u043A: \\\"\",searchQuery,\"\\\"\"]})]})})})}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-dark\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u043C \\u0432\\u0441\\u0435 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u043E \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u044B\\u0445...\"})]}):filteredAnimals.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search display-1 text-muted mb-4\"}),/*#__PURE__*/_jsx(\"h4\",{children:searchQuery?\"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\\"\".concat(searchQuery,\"\\\" \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"):selectedAnimalType!=='all'||selectedDateRange!=='all'||selectedDistrict!=='Все районы'?'По выбранным фильтрам ничего не найдено':'Объявления о животных отсутствуют'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mt-3\",children:searchQuery||selectedAnimalType!=='all'||selectedDateRange!=='all'||selectedDistrict!=='Все районы'?'Попробуйте изменить фильтры поиска':'Попробуйте зайти позже'}),(searchQuery||selectedAnimalType!=='all'||selectedDateRange!=='all'||selectedDistrict!=='Все районы')&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2\",onClick:handleResetFilters,children:\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"})]})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row g-4 mb-4\",children:paginatedAnimals.map(animal=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4\",children:/*#__PURE__*/_jsx(AnimalCard,{animal:animal,onViewClick:()=>{window.dispatchEvent(new CustomEvent('openAnimalModal',{detail:{animalId:animal.id}}));}})},animal.id))}),filteredAnimals.length>itemsPerPage&&/*#__PURE__*/_jsxs(\"nav\",{\"aria-label\":\"\\u041D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u044F \\u043F\\u043E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430\\u043C \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\",className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \",startIndex,\"-\",endIndex,\" \\u0438\\u0437 \",filteredAnimals.length,\" \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \",currentPage,\" \\u0438\\u0437 \",totalPages]})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination justify-content-center\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsxs(\"button\",{className:\"page-link\",onClick:handlePrevPage,disabled:currentPage===1,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chevron-left\"}),\" \\u041D\\u0430\\u0437\\u0430\\u0434\"]})}),Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;if(currentPage<=3){pageNum=i+1;}else if(currentPage>=totalPages-2){pageNum=totalPages-4+i;}else{pageNum=currentPage-2+i;}if(pageNum>0&&pageNum<=totalPages){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===pageNum?'active':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>handlePageClick(pageNum),children:pageNum})},pageNum);}return null;}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsxs(\"button\",{className:\"page-link\",onClick:handleNextPage,disabled:currentPage===totalPages,children:[\"\\u0412\\u043F\\u0435\\u0440\\u0435\\u0434 \",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chevron-right\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 pt-4 border-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-light\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"alert-heading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle me-2\"}),\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043F\\u043E\\u0438\\u0441\\u043A\\u0435\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439 \\u0432 \\u0431\\u0430\\u0437\\u0435: \",/*#__PURE__*/_jsx(\"strong\",{children:allAnimals.length})]}),searchQuery&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 mt-1\",children:[\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u043F\\u043E \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\\"\",searchQuery,\"\\\": \",/*#__PURE__*/_jsx(\"strong\",{children:filteredAnimals.length}),\" \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439\"]}),selectedAnimalType!=='all'&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 mt-1\",children:[\"\\u041E\\u0442\\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E \\u043F\\u043E \\u0442\\u0438\\u043F\\u0443: \",/*#__PURE__*/_jsx(\"strong\",{children:(_animalTypes$find2=animalTypes.find(t=>t.value===selectedAnimalType))===null||_animalTypes$find2===void 0?void 0:_animalTypes$find2.label})]}),selectedDateRange!=='all'&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 mt-1\",children:[\"\\u041E\\u0442\\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E \\u043F\\u043E \\u0434\\u0430\\u0442\\u0435: \",/*#__PURE__*/_jsx(\"strong\",{children:(_dateRanges$find2=dateRanges.find(d=>d.value===selectedDateRange))===null||_dateRanges$find2===void 0?void 0:_dateRanges$find2.label})]}),selectedDistrict!=='Все районы'&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 mt-1\",children:[\"\\u041E\\u0442\\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E \\u043F\\u043E \\u0440\\u0430\\u0439\\u043E\\u043D\\u0443: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedDistrict})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-light\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"alert-heading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-lightbulb me-2\"}),\"\\u0421\\u043E\\u0432\\u0435\\u0442\\u044B \\u043F\\u043E \\u043F\\u043E\\u0438\\u0441\\u043A\\u0443\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"\\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0439\\u0442\\u0435 \\u0432\\u0441\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B \\u0434\\u043B\\u044F \\u043C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0433\\u043E \\u0443\\u0442\\u043E\\u0447\\u043D\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 mt-1\",children:\"\\u0414\\u043B\\u044F \\u0442\\u043E\\u0447\\u043D\\u043E\\u0433\\u043E \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0439\\u0442\\u0435 3 \\u0438 \\u0431\\u043E\\u043B\\u0435\\u0435 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432 \\u0432 \\u043F\\u043E\\u0438\\u0441\\u043A\\u043E\\u0432\\u043E\\u0439 \\u0441\\u0442\\u0440\\u043E\\u043A\\u0435\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 mt-1\",children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u0440\\u0430\\u0439\\u043E\\u043D\\u0443 \\u0438\\u0449\\u0435\\u0442 \\u0447\\u0430\\u0441\\u0442\\u0438\\u0447\\u043D\\u043E\\u0435 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0432 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0438 \\u0440\\u0430\\u0439\\u043E\\u043D\\u0430\"})]})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5 mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"\\u041D\\u0435 \\u043D\\u0430\\u0448\\u043B\\u0438 \\u043F\\u043E\\u0434\\u0445\\u043E\\u0434\\u044F\\u0449\\u0435\\u0435 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0435?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"\\u0412\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E, \\u0432\\u0430\\u043C \\u0441\\u0442\\u043E\\u0438\\u0442 \\u0437\\u0430\\u0433\\u043B\\u044F\\u043D\\u0443\\u0442\\u044C \\u043F\\u043E\\u0437\\u0436\\u0435 \\u0438\\u043B\\u0438 \\u0440\\u0430\\u0437\\u043C\\u0435\\u0441\\u0442\\u0438\\u0442\\u044C \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E \\u043D\\u0430\\u0445\\u043E\\u0434\\u043A\\u0435.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#newPost\",children:\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0438\\u0442\\u044C \\u043E \\u043D\\u0430\\u0445\\u043E\\u0434\\u043A\\u0435\"})]})})})})]});};export default FindAnimalsPage;","map":{"version":3,"names":["React","useState","useEffect","useMemo","AnimalCard","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FindAnimalsPage","_animalTypes$find","_dateRanges$find","_animalTypes$find2","_dateRanges$find2","navigate","location","allAnimals","setAllAnimals","filteredAnimals","setFilteredAnimals","loading","setLoading","searchQuery","setSearchQuery","currentPage","setCurrentPage","selectedAnimalType","setSelectedAnimalType","selectedDateRange","setSelectedDateRange","selectedDistrict","setSelectedDistrict","itemsPerPage","animalTypes","value","label","dateRanges","districts","fetchAllAnimals","window","scrollTo","params","URLSearchParams","search","searchParam","get","applyFilters","url","response","fetch","method","headers","ok","Error","result","json","data","orders","processedAnimals","map","order","id","kind","description","date","district","mark","photos","concat","photo","name","phone","email","animalType","error","console","filtered","filter","animal","_animal$kind","toLowerCase","includes","now","Date","animalDate","diffTime","diffDays","Math","floor","trim","length","query","handleSearchSubmit","e","preventDefault","searchInput","target","querySelector","encodeURIComponent","handleAnimalTypeChange","type","handleDateRangeChange","range","handleDistrictChange","handleResetFilters","paginatedAnimals","totalPages","startIndex","endIndex","total","ceil","min","slice","handleNextPage","prev","top","behavior","handlePrevPage","handlePageClick","pageNumber","className","children","onSubmit","placeholder","minLength","defaultValue","onClick","style","maxHeight","overflowY","find","t","d","role","onViewClick","dispatchEvent","CustomEvent","detail","animalId","disabled","Array","from","_","i","pageNum"],"sources":["C:/Users/2053-23/pets.site3-main/src/components/pages/FindAnimalsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport AnimalCard from '../animals/AnimalCard';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nconst FindAnimalsPage = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const [allAnimals, setAllAnimals] = useState([]);\r\n  const [filteredAnimals, setFilteredAnimals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [selectedAnimalType, setSelectedAnimalType] = useState('all');\r\n  const [selectedDateRange, setSelectedDateRange] = useState('all');\r\n  const [selectedDistrict, setSelectedDistrict] = useState('Все районы');\r\n  const itemsPerPage = 6;\r\n  \r\n  // Фильтры для животных\r\n  const animalTypes = [\r\n    { value: 'all', label: 'Все животные' },\r\n    { value: 'cat', label: 'Коты' },\r\n    { value: 'dog', label: 'Собаки' },\r\n    { value: 'other', label: 'Другие' }\r\n  ];\r\n\r\n  const dateRanges = [\r\n    { value: 'all', label: 'За всё время' },\r\n    { value: 'today', label: 'Сегодня' },\r\n    { value: 'week', label: 'За неделю' },\r\n    { value: 'month', label: 'За месяц' }\r\n  ];\r\n\r\n  // Список районов для фильтрации\r\n  const districts = [\r\n    'Все районы',\r\n    'Адмиралтейский',\r\n    'Василеостровский',\r\n    'Выборгский',\r\n    'Калининский',\r\n    'Кировский',\r\n    'Колпинский',\r\n    'Красногвардейский',\r\n    'Красносельский',\r\n    'Кронштадтский',\r\n    'Курортный',\r\n    'Московский',\r\n    'Невский',\r\n    'Петроградский',\r\n    'Петродворцовый',\r\n    'Приморский',\r\n    'Пушкинский',\r\n    'Фрунзенский',\r\n    'Центральный'\r\n  ];\r\n\r\n  // Загружаем все объявления при монтировании компонента\r\n  useEffect(() => {\r\n    fetchAllAnimals();\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  // Обработка поискового запроса из URL при загрузке страницы\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const searchParam = params.get('search');\r\n    \r\n    if (searchParam) {\r\n      setSearchQuery(searchParam);\r\n    }\r\n  }, [location.search]);\r\n\r\n  // Применяем фильтры при их изменении\r\n  useEffect(() => {\r\n    applyFilters();\r\n    setCurrentPage(1); // Сбрасываем на первую страницу при смене фильтра\r\n  }, [selectedAnimalType, selectedDateRange, selectedDistrict, searchQuery, allAnimals]);\r\n\r\n  const fetchAllAnimals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Запрашиваем все объявления без поискового запроса\r\n      const url = 'https://pets.xn--80ahdri7a.site/api/search?query=';\r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Ошибка при загрузке объявлений');\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.data && result.data.orders) {\r\n        const processedAnimals = result.data.orders.map(order => ({\r\n          id: order.id,\r\n          kind: order.kind || \"Животное\",\r\n          description: order.description || \"Нет описания\",\r\n          date: order.date || \"Дата не указана\",\r\n          district: order.district || \"Район не указан\",\r\n          mark: order.mark || \"Нет\",\r\n          photos: order.photos ? `https://pets.xn--80ahdri7a.site${order.photos}` : null,\r\n          photo: order.photo ? `https://pets.xn--80ahdri7a.site${order.photo}` : null,\r\n          name: order.name,\r\n          phone: order.phone,\r\n          email: order.email,\r\n          animalType: order.animalType || 'other'\r\n        }));\r\n        setAllAnimals(processedAnimals);\r\n        setFilteredAnimals(processedAnimals);\r\n      } else {\r\n        setAllAnimals([]);\r\n        setFilteredAnimals([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Ошибка загрузки объявлений:\", error);\r\n      setAllAnimals([]);\r\n      setFilteredAnimals([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const applyFilters = () => {\r\n    let filtered = [...allAnimals];\r\n\r\n    // Фильтр по типу животного\r\n    if (selectedAnimalType !== 'all') {\r\n      filtered = filtered.filter(animal => {\r\n        const kind = animal.kind?.toLowerCase() || '';\r\n        if (selectedAnimalType === 'cat') {\r\n          return kind.includes('кот') || kind.includes('кошка') || kind.includes('котик');\r\n        } else if (selectedAnimalType === 'dog') {\r\n          return kind.includes('собака') || kind.includes('пёс') || kind.includes('щенок');\r\n        } else if (selectedAnimalType === 'other') {\r\n          return !kind.includes('кот') && !kind.includes('кошка') && !kind.includes('котик') &&\r\n                 !kind.includes('собака') && !kind.includes('пёс') && !kind.includes('щенок');\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n\r\n    // Фильтр по дате (упрощенный)\r\n    if (selectedDateRange !== 'all') {\r\n      const now = new Date();\r\n      filtered = filtered.filter(animal => {\r\n        if (!animal.date) return false;\r\n        \r\n        const animalDate = new Date(animal.date);\r\n        const diffTime = now - animalDate;\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n        \r\n        switch (selectedDateRange) {\r\n          case 'today':\r\n            return diffDays === 0;\r\n          case 'week':\r\n            return diffDays <= 7;\r\n          case 'month':\r\n            return diffDays <= 30;\r\n          default:\r\n            return true;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Фильтр по району\r\n    if (selectedDistrict !== 'Все районы') {\r\n      filtered = filtered.filter(animal => \r\n        animal.district && animal.district.toLowerCase().includes(selectedDistrict.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Фильтр по поисковому запросу\r\n    if (searchQuery.trim().length >= 3) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(animal => \r\n        (animal.kind && animal.kind.toLowerCase().includes(query)) ||\r\n        (animal.description && animal.description.toLowerCase().includes(query)) ||\r\n        (animal.district && animal.district.toLowerCase().includes(query)) ||\r\n        (animal.mark && animal.mark.toLowerCase().includes(query))\r\n      );\r\n    }\r\n\r\n    setFilteredAnimals(filtered);\r\n  };\r\n\r\n  const handleSearchSubmit = (e) => {\r\n    e.preventDefault();\r\n    const searchInput = e.target.querySelector('input[type=\"text\"]');\r\n    if (searchInput && searchInput.value.trim().length >= 3) {\r\n      setSearchQuery(searchInput.value.trim());\r\n      setCurrentPage(1);\r\n      \r\n      // Обновляем URL с поисковым запросом\r\n      navigate(`/find-animals?search=${encodeURIComponent(searchInput.value.trim())}`);\r\n    } else if (searchInput && searchInput.value.trim().length === 0) {\r\n      setSearchQuery(\"\");\r\n      setCurrentPage(1);\r\n      navigate('/find-animals');\r\n    }\r\n  };\r\n\r\n  const handleAnimalTypeChange = (type) => {\r\n    setSelectedAnimalType(type);\r\n  };\r\n\r\n  const handleDateRangeChange = (range) => {\r\n    setSelectedDateRange(range);\r\n  };\r\n\r\n  const handleDistrictChange = (district) => {\r\n    setSelectedDistrict(district);\r\n  };\r\n\r\n  const handleResetFilters = () => {\r\n    setSelectedAnimalType('all');\r\n    setSelectedDateRange('all');\r\n    setSelectedDistrict('Все районы');\r\n    setSearchQuery(\"\");\r\n    setCurrentPage(1);\r\n    navigate('/find-animals');\r\n  };\r\n\r\n  // Рассчитываем пагинацию для отфильтрованных результатов\r\n  const { paginatedAnimals, totalPages, startIndex, endIndex } = useMemo(() => {\r\n    const total = filteredAnimals.length;\r\n    const totalPages = Math.ceil(total / itemsPerPage);\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    const endIndex = Math.min(startIndex + itemsPerPage, total);\r\n    const paginatedAnimals = filteredAnimals.slice(startIndex, endIndex);\r\n    \r\n    return {\r\n      paginatedAnimals,\r\n      totalPages,\r\n      startIndex: startIndex + 1,\r\n      endIndex\r\n    };\r\n  }, [filteredAnimals, currentPage, itemsPerPage]);\r\n\r\n  // Функции для управления пагинацией\r\n  const handleNextPage = () => {\r\n    if (currentPage < Math.ceil(filteredAnimals.length / itemsPerPage)) {\r\n      setCurrentPage(prev => prev + 1);\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(prev => prev - 1);\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const handlePageClick = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"text-center mb-5\">\r\n        <h1>Найденные животные</h1>\r\n        <p className=\"lead text-muted\">\r\n          Найдите питомца, который ищет дом, или помогите найти хозяина для найденного животного\r\n        </p>\r\n        \r\n        {/* Поисковая строка */}\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-md-8 col-lg-6\">\r\n            <form onSubmit={handleSearchSubmit}>\r\n              <div className=\"input-group mb-4 shadow-sm\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control form-control-lg\"\r\n                  placeholder=\"Найти животное по описанию, породе, району...\"\r\n                  minLength={3}\r\n                  defaultValue={searchQuery}\r\n                />\r\n                <button \r\n                  className=\"btn btn-primary btn-lg\" \r\n                  type=\"submit\"\r\n                >\r\n                  <i className=\"bi bi-search me-2\"></i>\r\n                  Найти\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Фильтры и статистика */}\r\n      <div className=\"row mb-4\">\r\n        <div className=\"col-12\">\r\n          <div className=\"card shadow-sm mb-4\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title mb-3\">\r\n                <i className=\"bi bi-funnel me-2\"></i>\r\n                Фильтры поиска\r\n              </h5>\r\n              \r\n              <div className=\"row\">\r\n                <div className=\"col-md-4 mb-3\">\r\n                  <h6>Тип животного:</h6>\r\n                  <div className=\"d-flex flex-wrap gap-2\">\r\n                    {animalTypes.map((type) => (\r\n                      <button\r\n                        key={type.value}\r\n                        className={`btn btn-sm ${selectedAnimalType === type.value ? 'btn-primary' : 'btn-outline-primary'}`}\r\n                        onClick={() => handleAnimalTypeChange(type.value)}\r\n                      >\r\n                        {type.label}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-4 mb-3\">\r\n                  <h6>Дата публикации:</h6>\r\n                  <div className=\"d-flex flex-wrap gap-2\">\r\n                    {dateRanges.map((range) => (\r\n                      <button\r\n                        key={range.value}\r\n                        className={`btn btn-sm ${selectedDateRange === range.value ? 'btn-primary' : 'btn-outline-primary'}`}\r\n                        onClick={() => handleDateRangeChange(range.value)}\r\n                      >\r\n                        {range.label}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-4 mb-3\">\r\n                  <h6>Район Санкт-Петербурга:</h6>\r\n                  <div className=\"dropdown\">\r\n                    <button \r\n                      className=\"btn btn-outline-primary dropdown-toggle w-100 text-start\" \r\n                      type=\"button\" \r\n                      data-bs-toggle=\"dropdown\" \r\n                      aria-expanded=\"false\"\r\n                    >\r\n                      {selectedDistrict}\r\n                    </button>\r\n                    <ul className=\"dropdown-menu w-100\" style={{ maxHeight: \"300px\", overflowY: \"auto\" }}>\r\n                      {districts.map((district) => (\r\n                        <li key={district}>\r\n                          <button \r\n                            className={`dropdown-item ${selectedDistrict === district ? 'active' : ''}`}\r\n                            onClick={() => handleDistrictChange(district)}\r\n                          >\r\n                            {district}\r\n                          </button>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                  <small className=\"text-muted mt-1 d-block\">\r\n                    {selectedDistrict === 'Все районы' ? 'Показывать все районы' : `Выбран: ${selectedDistrict}`}\r\n                  </small>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"d-flex align-items-center flex-wrap\">\r\n                    <div className=\"me-3 mb-2\">\r\n                      <span className=\"badge bg-info\">\r\n                        <i className=\"bi bi-card-list me-1\"></i>\r\n                        Всего: {allAnimals.length}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"me-3 mb-2\">\r\n                      <span className=\"badge bg-success\">\r\n                        <i className=\"bi bi-filter me-1\"></i>\r\n                        Отфильтровано: {filteredAnimals.length}\r\n                      </span>\r\n                    </div>\r\n                    {selectedDistrict !== 'Все районы' && (\r\n                      <div className=\"mb-2\">\r\n                        <span className=\"badge bg-warning text-dark\">\r\n                          <i className=\"bi bi-geo-alt me-1\"></i>\r\n                          Район: {selectedDistrict}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-6 text-md-end\">\r\n                  {(selectedAnimalType !== 'all' || selectedDateRange !== 'all' || selectedDistrict !== 'Все районы' || searchQuery) && (\r\n                    <button \r\n                      className=\"btn btn-sm btn-outline-secondary\"\r\n                      onClick={handleResetFilters}\r\n                    >\r\n                      <i className=\"bi bi-x-circle me-1\"></i>\r\n                      Сбросить все фильтры\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Статистика поиска */}\r\n      <div className=\"row mb-4\">\r\n        <div className=\"col-12\">\r\n          <div className=\"search-stats mb-3\">\r\n            <p className=\"lead\">\r\n              Найдено объявлений: {loading ? '...' : filteredAnimals.length}\r\n              {filteredAnimals.length > 0 && (\r\n                <span className=\"ms-3 badge bg-info\">\r\n                  Страница {currentPage} из {totalPages}\r\n                </span>\r\n              )}\r\n              {selectedAnimalType !== 'all' && (\r\n                <span className=\"ms-2 badge bg-warning text-dark\">\r\n                  Тип: {animalTypes.find(t => t.value === selectedAnimalType)?.label}\r\n                </span>\r\n              )}\r\n              {selectedDateRange !== 'all' && (\r\n                <span className=\"ms-2 badge bg-warning text-dark\">\r\n                  Дата: {dateRanges.find(d => d.value === selectedDateRange)?.label}\r\n                </span>\r\n              )}\r\n              {selectedDistrict !== 'Все районы' && (\r\n                <span className=\"ms-2 badge bg-warning text-dark\">\r\n                  Район: {selectedDistrict}\r\n                </span>\r\n              )}\r\n              {searchQuery && (\r\n                <span className=\"ms-2 badge bg-warning text-dark\">\r\n                  Поиск: \"{searchQuery}\"\r\n                </span>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"col-12 text-center py-5\">\r\n          <div className=\"spinner-border text-dark\" role=\"status\">\r\n            <span className=\"visually-hidden\">Загрузка...</span>\r\n          </div>\r\n          <p className=\"mt-3\">Загружаем все объявления о животных...</p>\r\n        </div>\r\n      ) : filteredAnimals.length === 0 ? (\r\n        <div className=\"col-12\">\r\n          <div className=\"card shadow-sm\">\r\n            <div className=\"card-body text-center py-5\">\r\n              <i className=\"bi bi-search display-1 text-muted mb-4\"></i>\r\n              <h4>\r\n                {searchQuery \r\n                  ? `По вашему запросу \"${searchQuery}\" ничего не найдено`\r\n                  : selectedAnimalType !== 'all' || selectedDateRange !== 'all' || selectedDistrict !== 'Все районы'\r\n                  ? 'По выбранным фильтрам ничего не найдено'\r\n                  : 'Объявления о животных отсутствуют'\r\n                }\r\n              </h4>\r\n              <p className=\"text-muted mt-3\">\r\n                {searchQuery || selectedAnimalType !== 'all' || selectedDateRange !== 'all' || selectedDistrict !== 'Все районы'\r\n                  ? 'Попробуйте изменить фильтры поиска'\r\n                  : 'Попробуйте зайти позже'\r\n                }\r\n              </p>\r\n              {(searchQuery || selectedAnimalType !== 'all' || selectedDateRange !== 'all' || selectedDistrict !== 'Все районы') && (\r\n                <button \r\n                  className=\"btn btn-primary mt-2\"\r\n                  onClick={handleResetFilters}\r\n                >\r\n                  Показать все объявления\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"row g-4 mb-4\">\r\n            {paginatedAnimals.map((animal) => (\r\n              <div key={animal.id} className=\"col-md-6 col-lg-4\">\r\n                <AnimalCard \r\n                  animal={animal}\r\n                  onViewClick={() => {\r\n                    window.dispatchEvent(new CustomEvent('openAnimalModal', { \r\n                      detail: { animalId: animal.id } \r\n                    }));\r\n                  }}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* Пагинация для результатов поиска */}\r\n          {filteredAnimals.length > itemsPerPage && (\r\n            <nav aria-label=\"Навигация по страницам поиска\" className=\"mt-4\">\r\n              <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                <div>\r\n                  <small className=\"text-muted\">\r\n                    Показано {startIndex}-{endIndex} из {filteredAnimals.length} объявлений\r\n                  </small>\r\n                </div>\r\n                <div>\r\n                  <small className=\"text-muted\">\r\n                    Страница {currentPage} из {totalPages}\r\n                  </small>\r\n                </div>\r\n              </div>\r\n              \r\n              <ul className=\"pagination justify-content-center\">\r\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\r\n                  <button \r\n                    className=\"page-link\" \r\n                    onClick={handlePrevPage}\r\n                    disabled={currentPage === 1}\r\n                  >\r\n                    <i className=\"bi bi-chevron-left\"></i> Назад\r\n                  </button>\r\n                </li>\r\n                \r\n                {/* Страницы */}\r\n                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\r\n                  let pageNum;\r\n                  if (currentPage <= 3) {\r\n                    pageNum = i + 1;\r\n                  } else if (currentPage >= totalPages - 2) {\r\n                    pageNum = totalPages - 4 + i;\r\n                  } else {\r\n                    pageNum = currentPage - 2 + i;\r\n                  }\r\n                  \r\n                  if (pageNum > 0 && pageNum <= totalPages) {\r\n                    return (\r\n                      <li \r\n                        key={pageNum} \r\n                        className={`page-item ${currentPage === pageNum ? 'active' : ''}`}\r\n                      >\r\n                        <button \r\n                          className=\"page-link\" \r\n                          onClick={() => handlePageClick(pageNum)}\r\n                        >\r\n                          {pageNum}\r\n                        </button>\r\n                      </li>\r\n                    );\r\n                  }\r\n                  return null;\r\n                })}\r\n                \r\n                <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\r\n                  <button \r\n                    className=\"page-link\" \r\n                    onClick={handleNextPage}\r\n                    disabled={currentPage === totalPages}\r\n                  >\r\n                    Вперед <i className=\"bi bi-chevron-right\"></i>\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          )}\r\n          \r\n          {/* Статистика поиска */}\r\n          <div className=\"mt-5 pt-4 border-top\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-light\">\r\n                  <h5 className=\"alert-heading\">\r\n                    <i className=\"bi bi-info-circle me-2\"></i>\r\n                    Информация о поиске\r\n                  </h5>\r\n                  <p className=\"mb-0\">\r\n                    Всего объявлений в базе: <strong>{allAnimals.length}</strong>\r\n                  </p>\r\n                  {searchQuery && (\r\n                    <p className=\"mb-0 mt-1\">\r\n                      Найдено по запросу \"{searchQuery}\": <strong>{filteredAnimals.length}</strong> объявлений\r\n                    </p>\r\n                  )}\r\n                  {selectedAnimalType !== 'all' && (\r\n                    <p className=\"mb-0 mt-1\">\r\n                      Отфильтровано по типу: <strong>{animalTypes.find(t => t.value === selectedAnimalType)?.label}</strong>\r\n                    </p>\r\n                  )}\r\n                  {selectedDateRange !== 'all' && (\r\n                    <p className=\"mb-0 mt-1\">\r\n                      Отфильтровано по дате: <strong>{dateRanges.find(d => d.value === selectedDateRange)?.label}</strong>\r\n                    </p>\r\n                  )}\r\n                  {selectedDistrict !== 'Все районы' && (\r\n                    <p className=\"mb-0 mt-1\">\r\n                      Отфильтровано по району: <strong>{selectedDistrict}</strong>\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-light\">\r\n                  <h5 className=\"alert-heading\">\r\n                    <i className=\"bi bi-lightbulb me-2\"></i>\r\n                    Советы по поиску\r\n                  </h5>\r\n                  <p className=\"mb-0\">\r\n                    Используйте все фильтры для максимального уточнения поиска\r\n                  </p>\r\n                  <p className=\"mb-0 mt-1\">\r\n                    Для точного поиска используйте 3 и более символов в поисковой строке\r\n                  </p>\r\n                  <p className=\"mb-0 mt-1\">\r\n                    Фильтр по району ищет частичное совпадение в названии района\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      \r\n      {/* Информационный блок */}\r\n      <div className=\"row mt-5 mb-5\">\r\n        <div className=\"col-md-8 mx-auto\">\r\n          <div className=\"card bg-light\">\r\n            <div className=\"card-body text-center\">\r\n              <h5 className=\"card-title\">Не нашли подходящее животное?</h5>\r\n              <p className=\"card-text\">\r\n                Возможно, вам стоит заглянуть позже или разместить объявление о находке.\r\n              </p>\r\n              <button \r\n                className=\"btn btn-primary\"\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#newPost\"\r\n              >\r\n                Сообщить о находке\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FindAnimalsPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,MAAO,CAAAC,UAAU,KAAM,uBAAuB,CAC9C,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE5D,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,KAAAC,iBAAA,CAAAC,gBAAA,CAAAC,kBAAA,CAAAC,iBAAA,CAC5B,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACqB,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,WAAW,CAAEC,cAAc,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC2B,WAAW,CAAEC,cAAc,CAAC,CAAG5B,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAC6B,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAAC+B,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACiC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGlC,QAAQ,CAAC,YAAY,CAAC,CACtE,KAAM,CAAAmC,YAAY,CAAG,CAAC,CAEtB;AACA,KAAM,CAAAC,WAAW,CAAG,CAClB,CAAEC,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,cAAe,CAAC,CACvC,CAAED,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC/B,CAAED,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,QAAS,CAAC,CACjC,CAAED,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,QAAS,CAAC,CACpC,CAED,KAAM,CAAAC,UAAU,CAAG,CACjB,CAAEF,KAAK,CAAE,KAAK,CAAEC,KAAK,CAAE,cAAe,CAAC,CACvC,CAAED,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,SAAU,CAAC,CACpC,CAAED,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE,WAAY,CAAC,CACrC,CAAED,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,UAAW,CAAC,CACtC,CAED;AACA,KAAM,CAAAE,SAAS,CAAG,CAChB,YAAY,CACZ,gBAAgB,CAChB,kBAAkB,CAClB,YAAY,CACZ,aAAa,CACb,WAAW,CACX,YAAY,CACZ,mBAAmB,CACnB,gBAAgB,CAChB,eAAe,CACf,WAAW,CACX,YAAY,CACZ,SAAS,CACT,eAAe,CACf,gBAAgB,CAChB,YAAY,CACZ,YAAY,CACZ,aAAa,CACb,aAAa,CACd,CAED;AACAvC,SAAS,CAAC,IAAM,CACdwC,eAAe,CAAC,CAAC,CACjBC,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA1C,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2C,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC3B,QAAQ,CAAC4B,MAAM,CAAC,CACnD,KAAM,CAAAC,WAAW,CAAGH,MAAM,CAACI,GAAG,CAAC,QAAQ,CAAC,CAExC,GAAID,WAAW,CAAE,CACfrB,cAAc,CAACqB,WAAW,CAAC,CAC7B,CACF,CAAC,CAAE,CAAC7B,QAAQ,CAAC4B,MAAM,CAAC,CAAC,CAErB;AACA7C,SAAS,CAAC,IAAM,CACdgD,YAAY,CAAC,CAAC,CACdrB,cAAc,CAAC,CAAC,CAAC,CAAE;AACrB,CAAC,CAAE,CAACC,kBAAkB,CAAEE,iBAAiB,CAAEE,gBAAgB,CAAER,WAAW,CAAEN,UAAU,CAAC,CAAC,CAEtF,KAAM,CAAAsB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClCjB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF;AACA,KAAM,CAAA0B,GAAG,CAAG,mDAAmD,CAC/D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACF,GAAG,CAAE,CAChCG,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAI,CAACH,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,gCAAgC,CAAC,CACnD,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAEpC,GAAID,MAAM,CAACE,IAAI,EAAIF,MAAM,CAACE,IAAI,CAACC,MAAM,CAAE,CACrC,KAAM,CAAAC,gBAAgB,CAAGJ,MAAM,CAACE,IAAI,CAACC,MAAM,CAACE,GAAG,CAACC,KAAK,GAAK,CACxDC,EAAE,CAAED,KAAK,CAACC,EAAE,CACZC,IAAI,CAAEF,KAAK,CAACE,IAAI,EAAI,UAAU,CAC9BC,WAAW,CAAEH,KAAK,CAACG,WAAW,EAAI,cAAc,CAChDC,IAAI,CAAEJ,KAAK,CAACI,IAAI,EAAI,iBAAiB,CACrCC,QAAQ,CAAEL,KAAK,CAACK,QAAQ,EAAI,iBAAiB,CAC7CC,IAAI,CAAEN,KAAK,CAACM,IAAI,EAAI,KAAK,CACzBC,MAAM,CAAEP,KAAK,CAACO,MAAM,mCAAAC,MAAA,CAAqCR,KAAK,CAACO,MAAM,EAAK,IAAI,CAC9EE,KAAK,CAAET,KAAK,CAACS,KAAK,mCAAAD,MAAA,CAAqCR,KAAK,CAACS,KAAK,EAAK,IAAI,CAC3EC,IAAI,CAAEV,KAAK,CAACU,IAAI,CAChBC,KAAK,CAAEX,KAAK,CAACW,KAAK,CAClBC,KAAK,CAAEZ,KAAK,CAACY,KAAK,CAClBC,UAAU,CAAEb,KAAK,CAACa,UAAU,EAAI,OAClC,CAAC,CAAC,CAAC,CACHxD,aAAa,CAACyC,gBAAgB,CAAC,CAC/BvC,kBAAkB,CAACuC,gBAAgB,CAAC,CACtC,CAAC,IAAM,CACLzC,aAAa,CAAC,EAAE,CAAC,CACjBE,kBAAkB,CAAC,EAAE,CAAC,CACxB,CACF,CAAE,MAAOuD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnDzD,aAAa,CAAC,EAAE,CAAC,CACjBE,kBAAkB,CAAC,EAAE,CAAC,CACxB,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAyB,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAI,CAAA8B,QAAQ,CAAG,CAAC,GAAG5D,UAAU,CAAC,CAE9B;AACA,GAAIU,kBAAkB,GAAK,KAAK,CAAE,CAChCkD,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,MAAM,EAAI,KAAAC,YAAA,CACnC,KAAM,CAAAjB,IAAI,CAAG,EAAAiB,YAAA,CAAAD,MAAM,CAAChB,IAAI,UAAAiB,YAAA,iBAAXA,YAAA,CAAaC,WAAW,CAAC,CAAC,GAAI,EAAE,CAC7C,GAAItD,kBAAkB,GAAK,KAAK,CAAE,CAChC,MAAO,CAAAoC,IAAI,CAACmB,QAAQ,CAAC,KAAK,CAAC,EAAInB,IAAI,CAACmB,QAAQ,CAAC,OAAO,CAAC,EAAInB,IAAI,CAACmB,QAAQ,CAAC,OAAO,CAAC,CACjF,CAAC,IAAM,IAAIvD,kBAAkB,GAAK,KAAK,CAAE,CACvC,MAAO,CAAAoC,IAAI,CAACmB,QAAQ,CAAC,QAAQ,CAAC,EAAInB,IAAI,CAACmB,QAAQ,CAAC,KAAK,CAAC,EAAInB,IAAI,CAACmB,QAAQ,CAAC,OAAO,CAAC,CAClF,CAAC,IAAM,IAAIvD,kBAAkB,GAAK,OAAO,CAAE,CACzC,MAAO,CAACoC,IAAI,CAACmB,QAAQ,CAAC,KAAK,CAAC,EAAI,CAACnB,IAAI,CAACmB,QAAQ,CAAC,OAAO,CAAC,EAAI,CAACnB,IAAI,CAACmB,QAAQ,CAAC,OAAO,CAAC,EAC3E,CAACnB,IAAI,CAACmB,QAAQ,CAAC,QAAQ,CAAC,EAAI,CAACnB,IAAI,CAACmB,QAAQ,CAAC,KAAK,CAAC,EAAI,CAACnB,IAAI,CAACmB,QAAQ,CAAC,OAAO,CAAC,CACrF,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CACJ,CAEA;AACA,GAAIrD,iBAAiB,GAAK,KAAK,CAAE,CAC/B,KAAM,CAAAsD,GAAG,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACtBP,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,MAAM,EAAI,CACnC,GAAI,CAACA,MAAM,CAACd,IAAI,CAAE,MAAO,MAAK,CAE9B,KAAM,CAAAoB,UAAU,CAAG,GAAI,CAAAD,IAAI,CAACL,MAAM,CAACd,IAAI,CAAC,CACxC,KAAM,CAAAqB,QAAQ,CAAGH,GAAG,CAAGE,UAAU,CACjC,KAAM,CAAAE,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACH,QAAQ,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAE7D,OAAQzD,iBAAiB,EACvB,IAAK,OAAO,CACV,MAAO,CAAA0D,QAAQ,GAAK,CAAC,CACvB,IAAK,MAAM,CACT,MAAO,CAAAA,QAAQ,EAAI,CAAC,CACtB,IAAK,OAAO,CACV,MAAO,CAAAA,QAAQ,EAAI,EAAE,CACvB,QACE,MAAO,KAAI,CACf,CACF,CAAC,CAAC,CACJ,CAEA;AACA,GAAIxD,gBAAgB,GAAK,YAAY,CAAE,CACrC8C,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,MAAM,EAC/BA,MAAM,CAACb,QAAQ,EAAIa,MAAM,CAACb,QAAQ,CAACe,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACnD,gBAAgB,CAACkD,WAAW,CAAC,CAAC,CAC1F,CAAC,CACH,CAEA;AACA,GAAI1D,WAAW,CAACmE,IAAI,CAAC,CAAC,CAACC,MAAM,EAAI,CAAC,CAAE,CAClC,KAAM,CAAAC,KAAK,CAAGrE,WAAW,CAAC0D,WAAW,CAAC,CAAC,CACvCJ,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,MAAM,EAC9BA,MAAM,CAAChB,IAAI,EAAIgB,MAAM,CAAChB,IAAI,CAACkB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACU,KAAK,CAAC,EACxDb,MAAM,CAACf,WAAW,EAAIe,MAAM,CAACf,WAAW,CAACiB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACU,KAAK,CAAE,EACvEb,MAAM,CAACb,QAAQ,EAAIa,MAAM,CAACb,QAAQ,CAACe,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACU,KAAK,CAAE,EACjEb,MAAM,CAACZ,IAAI,EAAIY,MAAM,CAACZ,IAAI,CAACc,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACU,KAAK,CAC1D,CAAC,CACH,CAEAxE,kBAAkB,CAACyD,QAAQ,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAgB,kBAAkB,CAAIC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,WAAW,CAAGF,CAAC,CAACG,MAAM,CAACC,aAAa,CAAC,oBAAoB,CAAC,CAChE,GAAIF,WAAW,EAAIA,WAAW,CAAC7D,KAAK,CAACuD,IAAI,CAAC,CAAC,CAACC,MAAM,EAAI,CAAC,CAAE,CACvDnE,cAAc,CAACwE,WAAW,CAAC7D,KAAK,CAACuD,IAAI,CAAC,CAAC,CAAC,CACxChE,cAAc,CAAC,CAAC,CAAC,CAEjB;AACAX,QAAQ,yBAAAsD,MAAA,CAAyB8B,kBAAkB,CAACH,WAAW,CAAC7D,KAAK,CAACuD,IAAI,CAAC,CAAC,CAAC,CAAE,CAAC,CAClF,CAAC,IAAM,IAAIM,WAAW,EAAIA,WAAW,CAAC7D,KAAK,CAACuD,IAAI,CAAC,CAAC,CAACC,MAAM,GAAK,CAAC,CAAE,CAC/DnE,cAAc,CAAC,EAAE,CAAC,CAClBE,cAAc,CAAC,CAAC,CAAC,CACjBX,QAAQ,CAAC,eAAe,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAqF,sBAAsB,CAAIC,IAAI,EAAK,CACvCzE,qBAAqB,CAACyE,IAAI,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAIC,KAAK,EAAK,CACvCzE,oBAAoB,CAACyE,KAAK,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAItC,QAAQ,EAAK,CACzClC,mBAAmB,CAACkC,QAAQ,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAuC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B7E,qBAAqB,CAAC,KAAK,CAAC,CAC5BE,oBAAoB,CAAC,KAAK,CAAC,CAC3BE,mBAAmB,CAAC,YAAY,CAAC,CACjCR,cAAc,CAAC,EAAE,CAAC,CAClBE,cAAc,CAAC,CAAC,CAAC,CACjBX,QAAQ,CAAC,eAAe,CAAC,CAC3B,CAAC,CAED;AACA,KAAM,CAAE2F,gBAAgB,CAAEC,UAAU,CAAEC,UAAU,CAAEC,QAAS,CAAC,CAAG7G,OAAO,CAAC,IAAM,CAC3E,KAAM,CAAA8G,KAAK,CAAG3F,eAAe,CAACwE,MAAM,CACpC,KAAM,CAAAgB,UAAU,CAAGnB,IAAI,CAACuB,IAAI,CAACD,KAAK,CAAG7E,YAAY,CAAC,CAClD,KAAM,CAAA2E,UAAU,CAAG,CAACnF,WAAW,CAAG,CAAC,EAAIQ,YAAY,CACnD,KAAM,CAAA4E,QAAQ,CAAGrB,IAAI,CAACwB,GAAG,CAACJ,UAAU,CAAG3E,YAAY,CAAE6E,KAAK,CAAC,CAC3D,KAAM,CAAAJ,gBAAgB,CAAGvF,eAAe,CAAC8F,KAAK,CAACL,UAAU,CAAEC,QAAQ,CAAC,CAEpE,MAAO,CACLH,gBAAgB,CAChBC,UAAU,CACVC,UAAU,CAAEA,UAAU,CAAG,CAAC,CAC1BC,QACF,CAAC,CACH,CAAC,CAAE,CAAC1F,eAAe,CAAEM,WAAW,CAAEQ,YAAY,CAAC,CAAC,CAEhD;AACA,KAAM,CAAAiF,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIzF,WAAW,CAAG+D,IAAI,CAACuB,IAAI,CAAC5F,eAAe,CAACwE,MAAM,CAAG1D,YAAY,CAAC,CAAE,CAClEP,cAAc,CAACyF,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAC,CAChC3E,MAAM,CAACC,QAAQ,CAAC,CAAE2E,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI7F,WAAW,CAAG,CAAC,CAAE,CACnBC,cAAc,CAACyF,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAC,CAChC3E,MAAM,CAACC,QAAQ,CAAC,CAAE2E,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAE,eAAe,CAAIC,UAAU,EAAK,CACtC9F,cAAc,CAAC8F,UAAU,CAAC,CAC1BhF,MAAM,CAACC,QAAQ,CAAC,CAAE2E,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACjD,CAAC,CAED,mBACE9G,KAAA,QAAKkH,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnH,KAAA,QAAKkH,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BrH,IAAA,OAAAqH,QAAA,CAAI,yGAAkB,CAAI,CAAC,cAC3BrH,IAAA,MAAGoH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,qcAE/B,CAAG,CAAC,cAGJrH,IAAA,QAAKoH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzCrH,IAAA,QAAKoH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCrH,IAAA,SAAMsH,QAAQ,CAAE9B,kBAAmB,CAAA6B,QAAA,cACjCnH,KAAA,QAAKkH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCrH,IAAA,UACEgG,IAAI,CAAC,MAAM,CACXoB,SAAS,CAAC,8BAA8B,CACxCG,WAAW,CAAC,8NAA+C,CAC3DC,SAAS,CAAE,CAAE,CACbC,YAAY,CAAEvG,WAAY,CAC3B,CAAC,cACFhB,KAAA,WACEkH,SAAS,CAAC,wBAAwB,CAClCpB,IAAI,CAAC,QAAQ,CAAAqB,QAAA,eAEbrH,IAAA,MAAGoH,SAAS,CAAC,mBAAmB,CAAI,CAAC,iCAEvC,EAAQ,CAAC,EACN,CAAC,CACF,CAAC,CACJ,CAAC,CACH,CAAC,EACH,CAAC,cAGNpH,IAAA,QAAKoH,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBrH,IAAA,QAAKoH,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBrH,IAAA,QAAKoH,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCnH,KAAA,QAAKkH,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnH,KAAA,OAAIkH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC7BrH,IAAA,MAAGoH,SAAS,CAAC,mBAAmB,CAAI,CAAC,kFAEvC,EAAI,CAAC,cAELlH,KAAA,QAAKkH,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnH,KAAA,QAAKkH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BrH,IAAA,OAAAqH,QAAA,CAAI,4EAAc,CAAI,CAAC,cACvBrH,IAAA,QAAKoH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCxF,WAAW,CAAC0B,GAAG,CAAEyC,IAAI,eACpBhG,IAAA,WAEEoH,SAAS,eAAApD,MAAA,CAAgB1C,kBAAkB,GAAK0E,IAAI,CAAClE,KAAK,CAAG,aAAa,CAAG,qBAAqB,CAAG,CACrG4F,OAAO,CAAEA,CAAA,GAAM3B,sBAAsB,CAACC,IAAI,CAAClE,KAAK,CAAE,CAAAuF,QAAA,CAEjDrB,IAAI,CAACjE,KAAK,EAJNiE,IAAI,CAAClE,KAKJ,CACT,CAAC,CACC,CAAC,EACH,CAAC,cAEN5B,KAAA,QAAKkH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BrH,IAAA,OAAAqH,QAAA,CAAI,wFAAgB,CAAI,CAAC,cACzBrH,IAAA,QAAKoH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCrF,UAAU,CAACuB,GAAG,CAAE2C,KAAK,eACpBlG,IAAA,WAEEoH,SAAS,eAAApD,MAAA,CAAgBxC,iBAAiB,GAAK0E,KAAK,CAACpE,KAAK,CAAG,aAAa,CAAG,qBAAqB,CAAG,CACrG4F,OAAO,CAAEA,CAAA,GAAMzB,qBAAqB,CAACC,KAAK,CAACpE,KAAK,CAAE,CAAAuF,QAAA,CAEjDnB,KAAK,CAACnE,KAAK,EAJPmE,KAAK,CAACpE,KAKL,CACT,CAAC,CACC,CAAC,EACH,CAAC,cAEN5B,KAAA,QAAKkH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BrH,IAAA,OAAAqH,QAAA,CAAI,6HAAuB,CAAI,CAAC,cAChCnH,KAAA,QAAKkH,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrH,IAAA,WACEoH,SAAS,CAAC,0DAA0D,CACpEpB,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,gBAAc,OAAO,CAAAqB,QAAA,CAEpB3F,gBAAgB,CACX,CAAC,cACT1B,IAAA,OAAIoH,SAAS,CAAC,qBAAqB,CAACO,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAO,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAR,QAAA,CAClFpF,SAAS,CAACsB,GAAG,CAAEM,QAAQ,eACtB7D,IAAA,OAAAqH,QAAA,cACErH,IAAA,WACEoH,SAAS,kBAAApD,MAAA,CAAmBtC,gBAAgB,GAAKmC,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC5E6D,OAAO,CAAEA,CAAA,GAAMvB,oBAAoB,CAACtC,QAAQ,CAAE,CAAAwD,QAAA,CAE7CxD,QAAQ,CACH,CAAC,EANFA,QAOL,CACL,CAAC,CACA,CAAC,EACF,CAAC,cACN7D,IAAA,UAAOoH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACvC3F,gBAAgB,GAAK,YAAY,CAAG,uBAAuB,0CAAAsC,MAAA,CAActC,gBAAgB,CAAE,CACvF,CAAC,EACL,CAAC,EACH,CAAC,cAENxB,KAAA,QAAKkH,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrH,IAAA,QAAKoH,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBnH,KAAA,QAAKkH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDrH,IAAA,QAAKoH,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnH,KAAA,SAAMkH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC7BrH,IAAA,MAAGoH,SAAS,CAAC,sBAAsB,CAAI,CAAC,mCACjC,CAACxG,UAAU,CAAC0E,MAAM,EACrB,CAAC,CACJ,CAAC,cACNtF,IAAA,QAAKoH,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnH,KAAA,SAAMkH,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAChCrH,IAAA,MAAGoH,SAAS,CAAC,mBAAmB,CAAI,CAAC,mFACtB,CAACtG,eAAe,CAACwE,MAAM,EAClC,CAAC,CACJ,CAAC,CACL5D,gBAAgB,GAAK,YAAY,eAChC1B,IAAA,QAAKoH,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBnH,KAAA,SAAMkH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eAC1CrH,IAAA,MAAGoH,SAAS,CAAC,oBAAoB,CAAI,CAAC,mCAC/B,CAAC1F,gBAAgB,EACpB,CAAC,CACJ,CACN,EACE,CAAC,CACH,CAAC,cAEN1B,IAAA,QAAKoH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClC,CAAC/F,kBAAkB,GAAK,KAAK,EAAIE,iBAAiB,GAAK,KAAK,EAAIE,gBAAgB,GAAK,YAAY,EAAIR,WAAW,gBAC/GhB,KAAA,WACEkH,SAAS,CAAC,kCAAkC,CAC5CM,OAAO,CAAEtB,kBAAmB,CAAAiB,QAAA,eAE5BrH,IAAA,MAAGoH,SAAS,CAAC,qBAAqB,CAAI,CAAC,iHAEzC,EAAQ,CACT,CACE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,cAGNpH,IAAA,QAAKoH,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBrH,IAAA,QAAKoH,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBrH,IAAA,QAAKoH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCnH,KAAA,MAAGkH,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,2GACE,CAACrG,OAAO,CAAG,KAAK,CAAGF,eAAe,CAACwE,MAAM,CAC5DxE,eAAe,CAACwE,MAAM,CAAG,CAAC,eACzBpF,KAAA,SAAMkH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,mDAC1B,CAACjG,WAAW,CAAC,gBAAI,CAACkF,UAAU,EACjC,CACP,CACAhF,kBAAkB,GAAK,KAAK,eAC3BpB,KAAA,SAAMkH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,sBAC3C,EAAA/G,iBAAA,CAACuB,WAAW,CAACiG,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACjG,KAAK,GAAKR,kBAAkB,CAAC,UAAAhB,iBAAA,iBAArDA,iBAAA,CAAuDyB,KAAK,EAC9D,CACP,CACAP,iBAAiB,GAAK,KAAK,eAC1BtB,KAAA,SAAMkH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,4BAC1C,EAAA9G,gBAAA,CAACyB,UAAU,CAAC8F,IAAI,CAACE,CAAC,EAAIA,CAAC,CAAClG,KAAK,GAAKN,iBAAiB,CAAC,UAAAjB,gBAAA,iBAAnDA,gBAAA,CAAqDwB,KAAK,EAC7D,CACP,CACAL,gBAAgB,GAAK,YAAY,eAChCxB,KAAA,SAAMkH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,kCACzC,CAAC3F,gBAAgB,EACpB,CACP,CACAR,WAAW,eACVhB,KAAA,SAAMkH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,oCACxC,CAACnG,WAAW,CAAC,IACvB,EAAM,CACP,EACA,CAAC,CACD,CAAC,CACH,CAAC,CACH,CAAC,CAELF,OAAO,cACNd,KAAA,QAAKkH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCrH,IAAA,QAAKoH,SAAS,CAAC,0BAA0B,CAACa,IAAI,CAAC,QAAQ,CAAAZ,QAAA,cACrDrH,IAAA,SAAMoH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,qDAAW,CAAM,CAAC,CACjD,CAAC,cACNrH,IAAA,MAAGoH,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,mMAAsC,CAAG,CAAC,EAC3D,CAAC,CACJvG,eAAe,CAACwE,MAAM,GAAK,CAAC,cAC9BtF,IAAA,QAAKoH,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBrH,IAAA,QAAKoH,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BnH,KAAA,QAAKkH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCrH,IAAA,MAAGoH,SAAS,CAAC,wCAAwC,CAAI,CAAC,cAC1DpH,IAAA,OAAAqH,QAAA,CACGnG,WAAW,mGAAA8C,MAAA,CACc9C,WAAW,oGACjCI,kBAAkB,GAAK,KAAK,EAAIE,iBAAiB,GAAK,KAAK,EAAIE,gBAAgB,GAAK,YAAY,CAChG,yCAAyC,CACzC,mCAAmC,CAErC,CAAC,cACL1B,IAAA,MAAGoH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC3BnG,WAAW,EAAII,kBAAkB,GAAK,KAAK,EAAIE,iBAAiB,GAAK,KAAK,EAAIE,gBAAgB,GAAK,YAAY,CAC5G,oCAAoC,CACpC,wBAAwB,CAE3B,CAAC,CACH,CAACR,WAAW,EAAII,kBAAkB,GAAK,KAAK,EAAIE,iBAAiB,GAAK,KAAK,EAAIE,gBAAgB,GAAK,YAAY,gBAC/G1B,IAAA,WACEoH,SAAS,CAAC,sBAAsB,CAChCM,OAAO,CAAEtB,kBAAmB,CAAAiB,QAAA,CAC7B,kIAED,CAAQ,CACT,EACE,CAAC,CACH,CAAC,CACH,CAAC,cAENnH,KAAA,CAAAE,SAAA,EAAAiH,QAAA,eACErH,IAAA,QAAKoH,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BhB,gBAAgB,CAAC9C,GAAG,CAAEmB,MAAM,eAC3B1E,IAAA,QAAqBoH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChDrH,IAAA,CAACJ,UAAU,EACT8E,MAAM,CAAEA,MAAO,CACfwD,WAAW,CAAEA,CAAA,GAAM,CACjB/F,MAAM,CAACgG,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAE,CACtDC,MAAM,CAAE,CAAEC,QAAQ,CAAE5D,MAAM,CAACjB,EAAG,CAChC,CAAC,CAAC,CAAC,CACL,CAAE,CACH,CAAC,EARMiB,MAAM,CAACjB,EASZ,CACN,CAAC,CACC,CAAC,CAGL3C,eAAe,CAACwE,MAAM,CAAG1D,YAAY,eACpC1B,KAAA,QAAK,aAAW,iKAA+B,CAACkH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC9DnH,KAAA,QAAKkH,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrErH,IAAA,QAAAqH,QAAA,cACEnH,KAAA,UAAOkH,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,mDACnB,CAACd,UAAU,CAAC,GAAC,CAACC,QAAQ,CAAC,gBAAI,CAAC1F,eAAe,CAACwE,MAAM,CAAC,+DAC9D,EAAO,CAAC,CACL,CAAC,cACNtF,IAAA,QAAAqH,QAAA,cACEnH,KAAA,UAAOkH,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,mDACnB,CAACjG,WAAW,CAAC,gBAAI,CAACkF,UAAU,EAChC,CAAC,CACL,CAAC,EACH,CAAC,cAENpG,KAAA,OAAIkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAC/CrH,IAAA,OAAIoH,SAAS,cAAApD,MAAA,CAAe5C,WAAW,GAAK,CAAC,CAAG,UAAU,CAAG,EAAE,CAAG,CAAAiG,QAAA,cAChEnH,KAAA,WACEkH,SAAS,CAAC,WAAW,CACrBM,OAAO,CAAET,cAAe,CACxBsB,QAAQ,CAAEnH,WAAW,GAAK,CAAE,CAAAiG,QAAA,eAE5BrH,IAAA,MAAGoH,SAAS,CAAC,oBAAoB,CAAI,CAAC,kCACxC,EAAQ,CAAC,CACP,CAAC,CAGJoB,KAAK,CAACC,IAAI,CAAC,CAAEnD,MAAM,CAAEH,IAAI,CAACwB,GAAG,CAAC,CAAC,CAAEL,UAAU,CAAE,CAAC,CAAE,CAACoC,CAAC,CAAEC,CAAC,GAAK,CACzD,GAAI,CAAAC,OAAO,CACX,GAAIxH,WAAW,EAAI,CAAC,CAAE,CACpBwH,OAAO,CAAGD,CAAC,CAAG,CAAC,CACjB,CAAC,IAAM,IAAIvH,WAAW,EAAIkF,UAAU,CAAG,CAAC,CAAE,CACxCsC,OAAO,CAAGtC,UAAU,CAAG,CAAC,CAAGqC,CAAC,CAC9B,CAAC,IAAM,CACLC,OAAO,CAAGxH,WAAW,CAAG,CAAC,CAAGuH,CAAC,CAC/B,CAEA,GAAIC,OAAO,CAAG,CAAC,EAAIA,OAAO,EAAItC,UAAU,CAAE,CACxC,mBACEtG,IAAA,OAEEoH,SAAS,cAAApD,MAAA,CAAe5C,WAAW,GAAKwH,OAAO,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAAvB,QAAA,cAElErH,IAAA,WACEoH,SAAS,CAAC,WAAW,CACrBM,OAAO,CAAEA,CAAA,GAAMR,eAAe,CAAC0B,OAAO,CAAE,CAAAvB,QAAA,CAEvCuB,OAAO,CACF,CAAC,EARJA,OASH,CAAC,CAET,CACA,MAAO,KAAI,CACb,CAAC,CAAC,cAEF5I,IAAA,OAAIoH,SAAS,cAAApD,MAAA,CAAe5C,WAAW,GAAKkF,UAAU,CAAG,UAAU,CAAG,EAAE,CAAG,CAAAe,QAAA,cACzEnH,KAAA,WACEkH,SAAS,CAAC,WAAW,CACrBM,OAAO,CAAEb,cAAe,CACxB0B,QAAQ,CAAEnH,WAAW,GAAKkF,UAAW,CAAAe,QAAA,EACtC,uCACQ,cAAArH,IAAA,MAAGoH,SAAS,CAAC,qBAAqB,CAAI,CAAC,EACxC,CAAC,CACP,CAAC,EACH,CAAC,EACF,CACN,cAGDpH,IAAA,QAAKoH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnCnH,KAAA,QAAKkH,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBrH,IAAA,QAAKoH,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBnH,KAAA,QAAKkH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCnH,KAAA,OAAIkH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC3BrH,IAAA,MAAGoH,SAAS,CAAC,wBAAwB,CAAI,CAAC,2GAE5C,EAAI,CAAC,cACLlH,KAAA,MAAGkH,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,+HACO,cAAArH,IAAA,WAAAqH,QAAA,CAASzG,UAAU,CAAC0E,MAAM,CAAS,CAAC,EAC5D,CAAC,CACHpE,WAAW,eACVhB,KAAA,MAAGkH,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,uGACH,CAACnG,WAAW,CAAC,MAAG,cAAAlB,IAAA,WAAAqH,QAAA,CAASvG,eAAe,CAACwE,MAAM,CAAS,CAAC,gEAC/E,EAAG,CACJ,CACAhE,kBAAkB,GAAK,KAAK,eAC3BpB,KAAA,MAAGkH,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,wHACA,cAAArH,IAAA,WAAAqH,QAAA,EAAA7G,kBAAA,CAASqB,WAAW,CAACiG,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACjG,KAAK,GAAKR,kBAAkB,CAAC,UAAAd,kBAAA,iBAArDA,kBAAA,CAAuDuB,KAAK,CAAS,CAAC,EACrG,CACJ,CACAP,iBAAiB,GAAK,KAAK,eAC1BtB,KAAA,MAAGkH,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,wHACA,cAAArH,IAAA,WAAAqH,QAAA,EAAA5G,iBAAA,CAASuB,UAAU,CAAC8F,IAAI,CAACE,CAAC,EAAIA,CAAC,CAAClG,KAAK,GAAKN,iBAAiB,CAAC,UAAAf,iBAAA,iBAAnDA,iBAAA,CAAqDsB,KAAK,CAAS,CAAC,EACnG,CACJ,CACAL,gBAAgB,GAAK,YAAY,eAChCxB,KAAA,MAAGkH,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,oIACE,cAAArH,IAAA,WAAAqH,QAAA,CAAS3F,gBAAgB,CAAS,CAAC,EAC3D,CACJ,EACE,CAAC,CACH,CAAC,cACN1B,IAAA,QAAKoH,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBnH,KAAA,QAAKkH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCnH,KAAA,OAAIkH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC3BrH,IAAA,MAAGoH,SAAS,CAAC,sBAAsB,CAAI,CAAC,yFAE1C,EAAI,CAAC,cACLpH,IAAA,MAAGoH,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,gUAEpB,CAAG,CAAC,cACJrH,IAAA,MAAGoH,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,mWAEzB,CAAG,CAAC,cACJrH,IAAA,MAAGoH,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,kUAEzB,CAAG,CAAC,EACD,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,EACN,CACH,cAGDrH,IAAA,QAAKoH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BrH,IAAA,QAAKoH,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BrH,IAAA,QAAKoH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BnH,KAAA,QAAKkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCrH,IAAA,OAAIoH,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,4JAA6B,CAAI,CAAC,cAC7DrH,IAAA,MAAGoH,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,2XAEzB,CAAG,CAAC,cACJrH,IAAA,WACEoH,SAAS,CAAC,iBAAiB,CAC3B,iBAAe,OAAO,CACtB,iBAAe,UAAU,CAAAC,QAAA,CAC1B,oGAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}